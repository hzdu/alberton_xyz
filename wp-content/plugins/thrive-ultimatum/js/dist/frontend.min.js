/*! Thrive Ultimatum - 2022-05-27
* http://www.thrivethemes.com/
* Copyright (c) 2022 Thrive Themes */

var TVE_Ult=TVE_Ult||{},TVE_Ult_Data=TVE_Ult_Data||{},ThriveGlobal=ThriveGlobal||{$j:jQuery.noConflict()};!function(a){var b,c=[];TVE_Ult.add_page_css=function(b){a.each(b,function(b,c){b+="-css",a("#"+b).length||a('<link rel="stylesheet" id="'+b+'" type="text/css" href="'+c+'"/>').prependTo("head")})},TVE_Ult.add_head_script=function(b,c,d){var e=document.createElement("script"),f=a("head")[0];e.async=!0,"function"==typeof d&&(e.onload=e.onreadystatechange=d),void 0!==c&&(e.id=c),e.src=b,f.insertBefore(e,f.firstChild)},TVE_Ult.add_page_js=function(b,c){function d(){a.each(b,function(b,c){if("tve_frontend"===b&&"undefined"!=typeof TCB_Front)return!0;if("tve_leads_frontend"===b&&"undefined"!=typeof TL_Front&&TL_Front.add_page_css)return!0;if(b+="-js",c&&0===a("#"+b).length){if(f++,-1!==c.indexOf("connect.facebook.net"))return TVE_Ult.add_head_script(c,b,function(){f--}),!0;a.getScript(c,function(){f--}).fail(function(){console.log("Failed to load: "+c),console.log(arguments)})}}),e()}function e(){if(g++,0===f)return void c();100!==g&&setTimeout(e,50)}"function"!=typeof c&&(c=function(){});var f=0,g=0;"undefined"==typeof TCB_Front?a.getScript(b.tve_frontend).done(d):d()},a(function(){function d(a,b){void 0!==b&&b.lazy_load_conditional_preview&&tcb_condition_sets&&b.lazy_load_conditional_preview.forEach(function(a){-1===tcb_condition_sets.findIndex(function(b){return b.key===a.key})&&tcb_condition_sets.push(a)}),setTimeout(function(){if(e(a),a.lightspeed)if(a.lightspeed.js&&"undefined"==typeof TCB_Front)var b=setInterval(function(){"undefined"!=typeof TCB_Front&&(clearInterval(b),f(a.lightspeed))},100);else f(a.lightspeed)},200)}function e(d){function e(){if(!g||!h)return void setTimeout(e,50);TCB_Front.onDOMReady(),TCB_Front.event_triggers(ThriveGlobal.$j("body"));var d=a(".tve-ult-design").css("display","");setTimeout(function(){d.addClass("tvu-triggered").closest(".tve-ult-preload-form").removeClass("tve-ult-preload-form"),setTimeout(function(){a.each(c,function(a,b){b.call(null,d),setTimeout(function(){b.call(null,d)},5e3)})},200)},200),a('[class*="tu-shortcode"]').closest(".thrive_ultimatum_shortcode,.tve-ult-preload-form").remove(),d.find(".thrv_responsive_video").length&&TCB_Front.changeAutoplayVideo(d),b.on("click",".tve-ult-bar-close,.tve-ult-bar-close-editable",TVE_Ult.hide_design),a(".tve-ult-design").on("tve.countdown-finished",function(b){var c;b&&b.target&&(c=a(b.target).parents(".tve-ult-design")),c&&c.length&&c.data("campaign_id")&&TVE_Ult_Data.evergreen_redirects[c.data("campaign_id")]&&(window.location=TVE_Ult_Data.evergreen_redirects[c.data("campaign_id")]),TVE_Ult.hide_design(b)})}if(d){if(a.each(d,function(d,e){d=parseInt(d),isNaN(d)||(a.each(e.html,function(f,g){var h=a(g),i=h.find(".thrv_countdown_timer,.tve-countdown");if(a.each(e.timer_components,function(a,b){i.attr("data-"+a,b)}),h.data("campaign_id",d),"widget"===f){var j=a("#tve-ult-widget-container"),k=j.data("widget-id");return!j.length||(h.attr("data-widget-id",k),j.find("#tve-ult-widget-placeholder").replaceWith(h),j.hasClass("tve-ult-preload-form")&&j.find(".widget_tve_ult_widget").addClass("tve-ult-preload-form").attr("style",j.attr("style")),j.children().unwrap(),!0)}if("header-bar"===f)c.push(TVE_Ult.top_ribbon_show);else if(-1!==f.indexOf("shortcode")){var l=a(".tu-"+f);return l.length&&(l.removeClass("tu-"+f),l.hasClass("tve-ult-preload-form")?l.html(h):l.replaceWith(h)),!0}var m=a("#tve-ult-"+f);m.length?m.html(h):b.append(h)}),e.resources&&(e.resources.css&&TVE_Ult.add_page_css(e.resources.css),e.resources.fonts&&TVE_Ult.add_page_css(e.resources.fonts),e.resources.localize&&a.each(e.resources.localize,function(a,b){void 0===window[a]&&(window[a]=b)})))}),d.body_end){var f=a(d.body_end);f.find(".tve_wistia_popover").each(function(){a("#"+this.id).length&&this.parentNode.removeChild(this)}),b.append(f)}d.resources&&d.resources.js&&TVE_Ult.add_page_js(d.resources.js,function(){g=!0}),d.resources&&d.resources.css&&TVE_Ult.add_page_css(d.resources.css),setTimeout(e,50)}}function f(b){function c(){if(e.length){var a=e.shift();TVE_Ult.add_head_script(b.js[a],"tu-lightspeed-"+a,c)}else h=!0}var d=function(){return a('link[href*="thrive_flat.css"]').length>0},e=[];if(b.css){if(b.css.files)for(var f in b.css.files){var g="flat"===f;(!d()&&g||!g)&&a('<link rel="stylesheet" href="'+b.css.files[f]+'"/>').prependTo("head")}b.css.inline&&b.css.inline.length&&b.css.inline.forEach(function(b){d()||a(b).prependTo("head")})}if(b.js)for(var i in b.js)TCB_Front&&!TCB_Front.isModuleLoaded(i)&&e.push(i);c()}var g=!1,h=!1;b=a("body");var i={action:TVE_Ult_Data.ajax_load_action,campaign_ids:TVE_Ult_Data.campaign_ids,matched_display_settings:TVE_Ult_Data.matched_display_settings,post_id:TVE_Ult_Data.post_id,is_singular:TVE_Ult_Data.is_singular,tu_em:TVE_Ult_Data.tu_em,shortcode_campaign_ids:TVE_Ult_Data.shortcode_campaign_ids};window.TVE_Dash&&!TVE_Dash.ajax_sent?a(document).on("tve-dash.load",function(a){TVE_Dash.add_load_item("tu_lazy_load",i,d)}):a.ajax({url:TVE_Ult_Data.ajaxurl,type:"post",data:a.extend(i,{hard_ajax:!0})}).done(d)}),TVE_Ult.top_ribbon_show=function(c){var d=c.filter(".tvu-header");if(d.length&&!d.css("--tve-ult-design-hidden")){var e=d.outerHeight(!0);b.data("tvu-original-margin",b.css("margin-top")).animate({marginTop:"+"+e+"px"},300);var f=b.find(".thrv_header.tve-scroll-sticky");f.length&&f.css("--tcb-header-extra-offset",e+"px"),setTimeout(function(){a(window).trigger("ultimatum.form.display",{show:!0,type:"ribbon"})},301)}},TVE_Ult.hide_design=function(c){var d,e="ribbon";d=c&&c.target?a(c.target).parents(".tve-ult-design"):a(".tve-ult-design"),d.removeClass("tvu-triggered").css("--tve-ult-design-hidden",1),d.hasClass("tvu-header")&&b.animate({marginTop:0},300),d.is(".tve-ult-widget")&&(d.parents("#"+d.data("widget-id")).slideUp(),e="widget");var f=b.find(".thrv_header.tve-scroll-sticky");if(f.length){var g=parseFloat(f.css("--tcb-header-extra-offset"))-d.outerHeight(!0)+"px";f.css("--tcb-header-extra-offset",g)}setTimeout(function(){a(window).trigger("ultimatum.form.display",{show:!1,type:e})},301)}}(ThriveGlobal.$j);