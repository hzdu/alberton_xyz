!function(e){var a={};function t(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=a,t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)t.d(i,n,function(a){return e[a]}.bind(null,n));return i},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="",t(t.s=0)}([function(e,a,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"use strict";function a(e,a,t){var i,n,l=t,r=function(a){var t=l.includes(parseInt(a.id))?" checked":"",i='<input type="checkbox" class="form-control checkbox" name="'+e+'" value="'+a.id+'"'+t+">";return i+='<label for="'+a.id+'">'+a.text+"</label>"};return n=[],(i=l).length>0&&i.forEach((function(e){n.push(parseInt(e))})),l=n,function a(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0===i?'<ul class="list '+e+'">':'<ul class="children">';return t.forEach((function(e){var t=!1;e.hasOwnProperty("subcat")&&Array.isArray(e.subcat)&&e.subcat.length&&(t=!0),n+="<li>",n+=r(e),t&&(n+=a(e.subcat,1)),n+="</li>"})),n+="</ul>"}(a)}var t={},n={},l={},r={},o={},s={},d=pro_woo_filter,c=d.setting_fields,p=d.translated_text;function u(e,a,t){var i=document.querySelector(e);i.classList.add("animated",a),i.addEventListener("animationend",(function e(){i.classList.remove("animated",a),i.removeEventListener("animationend",e),"function"==typeof t&&t()}))}function m(){return'<div class="alert-danger" role="alert">'+p.unique_field+"</div>"}function f(){return'<span class="alert-message"><strong>Erorr: </strong>'+p.ajax_fail+"</span>"}function v(){return 0!==e(".panel-group").find(".item-panel").length?"item_panel":"setting_panel"}e.fn.getType=function(){return"INPUT"==this[0].tagName?this[0].type.toLowerCase():this[0].tagName.toLowerCase()};var _={init:function(a,t){return!!e.isEmptyObject(n)||!_.getUrlKeys(t).includes(a)},getUrlKeys:function(e){for(var a=[],t=0,i=Object.keys(n);t<i.length;t++){var l=i[t],r=n[l];l!==e&&(a.push(r.url_key),r.hasOwnProperty("url_key_min_price")&&a.push(r.url_key_min_price),r.hasOwnProperty("url_key_max_price")&&a.push(r.url_key_max_price),r.hasOwnProperty("url_key_date_after")&&a.push(r.url_key_date_after),r.hasOwnProperty("url_key_date_before")&&a.push(r.url_key_date_before),r.hasOwnProperty("url_key_range_slider_min")&&a.push(r.url_key_range_slider_min),r.hasOwnProperty("url_key_range_slider_max")&&a.push(r.url_key_range_slider_max))}return a}};function h(e){return!!n.hasOwnProperty(e)&&n[e]}var g=0,y={generateFilterItemID:function(){return"id-"+e(".filter-item").length},generateFilterItems:function(e){for(var a="",t=0,i=Object.keys(e);t<i.length;t++){var l=e[i[t]];n[g]=l,"column"===l.item_type?(a+=y.newColumnStart(g),l.hasOwnProperty("children")&&(g++,a+=y.generateFilterItems(l.children)),a+=y.newColumnEnd()):(a+=y.addNewItem(l.item_type,g,l.title),g++)}return a},createFilterItems:function(e){var a=y.generateFilterItems(e);y.appendItem(a)},addNewItem:function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i="";return""===t&&(t="new filter"),i+='<div class="filter-item" data-filter-id="'+a+'"><div class="filter-header">',i+='<div class="head-title"><span class="filter-title text-bold">',i+=t,i+='</span><span class="filter-type">'+e+"</span>",i+="</div>",i+='<div class="btn-actions">',i+='<span class="btn-link edit-action">'+p.edit+"</span>",i+='<span class="btn-link remove-action">'+p.remove+"</span>",i+="</div>",i+="</div></div>"},newColumnStart:function(e){var a='<div class="filter-item column" data-layout="column" data-filter-id="'+e+'">';return a+='<div class="filter-header">',a+='<div class="head-title"><span class="filter-title text-bold">',a+="Column",a+="</div>",a+='<div class="btn-actions">',a+='<span class="btn-link edit-action">Edit</span>',a+='<span class="btn-link remove-action">Remove</span>',a+="</div>",a+="</div>",a+='<div class="container"><div class="column-inner group-list">'},newColumnEnd:function(){return"</div></div></div>"},addNewColumn:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=y.newColumnStart(e);return t+=a,t+=y.newColumnEnd()},removeItem:function(a){var t=[],l=a.closest(".filter-item").attr("data-filter-id");t.push(l),delete n[l];var r=e(a).closest(".filter-item").attr("data-layout");if("undefined"!==i(r)&&!1!==r&&"column"===r){var o=e(a).closest(".filter-item").find(".column-inner").children(".filter-item");e(o).each((function(a,i){var l=e(i).attr("data-filter-id");t.push(l),delete n[l]}))}a.closest(".filter-item").remove(),y.initSortEvent(),w.displayPanel("removeitem","",t)},appendItem:function(a){e(".append-filter-items").append(a),y.initSortEvent()},initSortEvent:function(){e(".filters-list").hasClass("ui-sortable")?e(".filters-list").sortable("refresh"):e(".filters-list").sortable({handle:".filter-header",connectWith:".group-list",placeholder:"ui-state-highlight",forcePlaceholderSize:!0,opacity:.8,helper:"clone",start:function(a,t){var i=e(this).width();e(t.helper).width(i)}}),e(".append-filter-items .group-list").length>0&&e(".group-list").each((function(){e(this).hasClass("ui-sortable")?e(this).sortable("refresh"):e(this).sortable({handle:".filter-header",connectWith:".filters-list",placeholder:"ui-state-highlight",forcePlaceholderSize:!0,opacity:.8,helper:"clone",start:function(a,t){var i=e(this).width();e(t.helper).width(i)}})}))},addActiveCssClass:function(a){e(".filters-list").find("[data-filter-id="+a+"]").addClass("active-item")},removeActiveCssClass:function(){e(".filters-list .filter-item").removeClass("active-item")}};var b={config:{},init:function(a){b.config={field:"",panelType:"",FilterItemID:"",defaultValues:[]},e.extend(b.config,a);var t="";switch(b.config.field.type){case"text":t=b.inputTextField();break;case"number":t=b.inputTextNumber();break;case"radio":t=b.inputRadioButton();break;case"dropdown":t=b.dropdownMenuField();break;case"multicheckbox":t=b.multicheckboxField();break;case"switchbutton":t=b.switchButtonField();break;case"ajaxdropdown":t=b.ajaxdropdown();break;case"ajaxdropdownselect2":t=b.ajaxdropdownselect2();break;case"ajaxmulticheckboxlist":t=b.ajaxMultiCheckboxList();break;case"ajaxcolor":t=b.ajaxColorField();break;case"displayrules":t=b.displayRulesField.displayRules(b.config.field,b.config.defaultValues);break;case"metafield":t=b.metaField();break;case"depends_on":t=b.dependsOn();break;case"boxlistlabel":t=b.boxlistlabel()}return t},fieldWrapStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""===e&&(e=b.config.field);var a='<div class="control-group';return a+="radio"===e.type?" inline-radio-buttons":"",a+="ajaxcolor"===e.type?" no-padding":"",a+='">',a+='<div class="control-label">',a+='<span class="label-text">',a+=e.title,e.hasOwnProperty("required")&&"true"===e.required&&(a+='<abbr class="required" title="required">*</abbr>'),a+="</span>",e.hasOwnProperty("description")&&""!==e.description&&(a+='<span class="description">'+e.description+"</span>"),a+="</div>",a+='<div class="control-content">'},fieldWrapEnd:function(){return"</div></div>"},inputTextField:function(){var e=b.config.field,a=b.config.defaultValues,t='<input type="text" name="'+e.param_name+'"';return t+=' class="form-control full-width text',e.hasOwnProperty("cssclass")&&""!==e.cssclass&&(t+=" "+e.cssclass),t+='"',a.hasOwnProperty(e.param_name)?t+=' value="'+a[e.param_name]+'"':e.hasOwnProperty("default")?t+=' value="'+e.default+'"':t+=' value=""',e.hasOwnProperty("placeholder")&&""!==e.placeholder&&(t+=' placeholder="'+e.placeholder+'"'),e.hasOwnProperty("required")&&"true"===e.required&&(t+=' aria-required="true"'),t+="/>",b.fieldWrapStart()+t+b.fieldWrapEnd()},inputTextNumber:function(){var e=b.config.field,a=b.config.defaultValues,t='<input type="number" name="'+e.param_name+'"';return t+=' class="form-control number',e.hasOwnProperty("cssclass")&&""!==e.cssclass&&(t+=" "+e.cssclass),t+='"',a.hasOwnProperty(e.param_name)?t+=' value="'+a[e.param_name]+'"':e.hasOwnProperty("default")?t+=' value="'+e.default+'"':t+=' value=""',e.hasOwnProperty("required")&&"true"===e.required&&(t+=' aria-required="true"'),e.hasOwnProperty("min")&&(t+=' min="'+e.min+'"'),e.hasOwnProperty("max")&&(t+=' max="'+e.max+'"'),t+="/>",b.fieldWrapStart()+t+b.fieldWrapEnd()},inputRadioButton:function(){var e=b.config.field,a=b.config.defaultValues,t="",i="",n=a.hasOwnProperty(e.param_name)?a[e.param_name]:e.default,l=!1;return e.hasOwnProperty("display")&&"list"===e.display&&(l=!0,t+='<ul class="radio-list '+e.param_name+'">'),e.options.forEach((function(a){i="",n===a.id&&(i=" checked"),l&&(t+="<li>"),t+='<span class="pwf-radio-item"><input type="radio" name="'+e.param_name+'" value="'+a.id+'"'+i+'> <label for="'+a.id+'">'+a.text+"</label></span>",l&&(t+="</li>")})),l&&(t+="</ul>"),b.fieldWrapStart()+t+b.fieldWrapEnd()},dropdownMenuField:function(){var a=b.config.field,t=b.config.defaultValues,i="",n="";return t.hasOwnProperty(a.param_name)?n=t[a.param_name]:a.hasOwnProperty("default")&&(n=a.default),i+='<select name="'+a.param_name+'"',i+=' class="form-control full-width dropdown',a.hasOwnProperty("cssclass")&&""!==a.cssclass&&(i+=" "+a.cssclass),e.isEmptyObject(a.options)&&(i+=" pwf-hidden"),i+='"',!e.isEmptyObject(a.options)&&a.hasOwnProperty("required")&&"true"===a.required&&(i+=' aria-required="true"'),i+=">",a.options.forEach((function(e){i+='<option value ="'+e.id+'"',i+=e.id==n?" selected":"",i+=">"+e.text+"</option>"})),i+="</select>",e.isEmptyObject(a.options)&&(i+="<ul><li>"+p.no_option+"</li></ul>"),b.fieldWrapStart()+i+b.fieldWrapEnd()},multicheckboxField:function(){var e=b.config.field,a=b.config.defaultValues,t="",i=[],n='<div class="check-box-list"><ul class="list '+e.param_name+'">';return a.hasOwnProperty(e.param_name)&&""!==a[e.param_name]?i=a[e.param_name]:e.hasOwnProperty("default")&&(i=e.default),e.options.forEach((function(a){t=i.includes(a.id)?" checked":"",n+='<li><input type="checkbox" class="form-control checkbox" name="'+e.param_name+'" value="'+a.id+'"'+t,e.hasOwnProperty("required")&&"true"===e.required&&(n+=' aria-required="true"'),n+='> <label for="'+a.id+'">'+a.text+"</label></li>"})),n+="</ul></div>",b.fieldWrapStart()+n+b.fieldWrapEnd()},switchButtonField:function(){var e=b.config.field,a=b.config.defaultValues,t="",i="";return a.hasOwnProperty(e.param_name)?i="on"===a[e.param_name]?" checked":"":e.hasOwnProperty("default")&&"on"===e.default&&(i=" checked"),t+='<div class="ckbx-style-15 switch-btn">',t+='<input id="pwf-'+e.param_name+'" type="checkbox" name="'+e.param_name+'" class="form-control checkbox-switch-field',e.hasOwnProperty("cssclass")&&""!==e.cssclass&&(t+=" "+e.cssclass),t+='"'+i+'><label for="pwf-'+e.param_name+'" class="slider-btn"></label></div>',b.fieldWrapStart()+t+b.fieldWrapEnd()},ajaxdropdown:function(){var e='<div class="dropdown-list ajax-dropdown-field-'+b.config.field.param_name+'"></div>';return b.fieldWrapStart()+e+b.fieldWrapEnd()},ajaxdropdownselect2:function(){var a=b.config.field,t=b.config.defaultValues,i="",n=[];return t.hasOwnProperty(a.param_name)&&""!==t[a.param_name]?n=t[a.param_name]:a.hasOwnProperty("default")&&(n=a.default),i+='<select name="'+a.param_name+'"',i+=' class="form-control full-width dropdown pwf-select2',a.hasOwnProperty("cssclass")&&""!==a.cssclass&&(i+=" "+a.cssclass),e.isEmptyObject(a.options)&&(i+=" pwf-hidden"),i+='"',!e.isEmptyObject(a.options)&&a.hasOwnProperty("required")&&"true"===a.required&&(i+=' aria-required="true"'),i+=' multiple="multiple">',a.options.forEach((function(e){i+='<option value ="'+e.id+'"',i+=n.includes(e.id)?" selected":"",i+=">"+e.text+"</option>"})),i+="</select>",e.isEmptyObject(a.options)&&(i+="<ul><li>"+p.no_option+"</li></ul>"),b.fieldWrapStart()+i+b.fieldWrapEnd()},ajaxMultiCheckboxList:function(){var e='<div class="check-box-list ajax-field-'+b.config.field.param_name+'"></div>';return b.fieldWrapStart()+e+b.fieldWrapEnd()},ajaxColorField:function(){var e='<div class="color-list '+b.config.field.param_name+'"></div>';return b.fieldWrapStart()+e+b.fieldWrapEnd()},metaField:function(){var e=b.config.field,a=b.config.defaultValues,t='<div class="check-box-list pwf-meta-field-box">';return t+='<div class="inner-meta-field">',t+='<div id="meta-field-items" class="meta-field-items">',a.hasOwnProperty(e.param_name)&&""!==a[e.param_name]&&(t+=k.createMetaFields(b.config.panelType,a[e.param_name])),t+="</div>",t+="</div>",t+='<div class="meta-fields-button"><button class="button pwf-add-new-meta">'+p.add_new+"</button></div>",t+="</div>",b.fieldWrapStart()+t+b.fieldWrapEnd()},boxlistlabel:function(){return b.fieldWrapStart()+'<div class="pwf-box-list-label box-list-label-require-ajax"></div>'+b.fieldWrapEnd()},ajaxdropdownfield:function(e,a){var t="";return t+='<select name="item_source_taxonomy_sub"',t+=' class="form-control full-width dropdown"',t+=">",e.forEach((function(e){t+='<option value ="'+e.id+'"',t+=e.id==a?" selected":"",t+=">"+e.text+"</option>"})),t+="</select>"},boxlistlabelfields:function(e,a){var t="";return e.forEach((function(e){var i="";if(Array.isArray(a)&&a.length){var n=a.find((function(a){return a.term_id==e.id}));n&&(i=n.value)}t+='<div class="lable-item" data-item-label-id="'+e.id+'">',t+='<div class="lable-item-text">'+e.text+"</div>",t+='<div class="lable-item-input"><input type="text" class="form-control full-width text item-value" value="'+i+'" /></div>',t+="</div>"})),t},displayRulesField:{displayRules:function(e,a){var t="";if(t+="<div><strong>"+p.rule_text_if+"</strong></div>",t+='<div class="display-rules-container">',a.hasOwnProperty(e.param_name)&&(a=a[e.param_name]),Array.isArray(a)&&a.length){var i=a,n=0;t+=b.displayRulesField.ruleWrapStart(),i.forEach((function(e){var a={rule_id:n,param:e.param,equal:e.equal,value:e.value};t+=b.displayRulesField.ruleTemplate(a),n++})),t+=b.displayRulesField.ruleWrapEnd()}else{t+=b.displayRulesField.ruleWrapStart();t+=b.displayRulesField.ruleTemplate({rule_id:0,param:"category",equal:"",value:""}),t+=b.displayRulesField.ruleWrapEnd()}return t+="</div>",b.fieldWrapStart(e)+t+b.fieldWrapEnd()},ruleTemplate:function(e){var a="",t=d.display_rule_data.param,i="",n="";if("category"===e.param||r.hasOwnProperty(e.param)||(n=' data-select2-ajax-param="'+e.param+'" data-select2-ajax-value="'+e.value+'"',i=" transparent"),a+='<div class="rule pwf-rule five-col-grid'+i+'" data-rule-id="'+e.rule_id+'">',a+='<div class="rule-item rule-param">',a+='<select name="rule[rule_'+e.rule_id+'][param]" class="form-control full-width field-rule-param">',t.forEach((function(t){a+='<option value ="'+t.id+'"',a+=t.id===e.param?" selected":"",a+=">"+t.text+"</option>"})),a+="</select>",a+="</div>",a+='<div class="rule-item rule-equal">',a+="<span>"+p.equalto+"</span>",a+="</div>",a+='<div class="rule-item rule-value">',a+='<select name="rule[rule_'+e.rule_id+'][value]" class="form-control full-width field-rule-value-select2"'+n+">","category"===e.param)d.product_categories.forEach((function(t){a+='<option value ="'+t.id+'"',a+=t.id==e.value?" selected":"",a+=">"+t.text+"</option>"}));else if(r.hasOwnProperty(e.param)){var l=r[e.param];a+=b.displayRulesField.ruleOptgroup(l,e.value)}return a+="</select>",a+="</div>",a+='<div class="rule-item rule-add">',a+='<button class="button add-rule">'+p.rule_text_or+"</button>",a+="</div>",a+='<div class="rule-item rule-delete">',0!==e.rule_id&&(a+='<button class="button button-link-delete remove-rule">-</button>'),a+="</div>",a+="</div>"},ruleWrapStart:function(){return'<div class="rule-group">'},ruleWrapEnd:function(){return"</div>"},ruleOptgroup:function(e,a){var t="";return e.forEach((function(e){e.hasOwnProperty("children")?(t+='<optgroup label="'+e.text+'">',e.children.forEach((function(e){t+='<option value ="'+e.id+'"',t+=e.id==a?" selected":"",t+=">"+e.text+"</option>"})),t+="</optgroup>"):(t+='<option value ="'+e.id+'"',t+=e.id==a?" selected":"",t+=">"+e.text+"</option>")})),t},addNewRule:function(a){var t=e(a).closest(".rule").attr("data-rule-id"),i={rule_id:Number(t)+1,param:"category",equal:"",value:""},n=b.displayRulesField.ruleTemplate(i);e(a).closest(".rule-group").append(n),x.initEventRuleDisplayField()},removeRule:function(a){var t=e(a).closest(".rule");e(t).remove()}},colorFields:function(e,a,t){var i="";return a.forEach((function(e){var a="",n="",l="color",r="",o="light";if(Array.isArray(t)&&t.length){var s=t.find((function(a){return a.term_id==e.id}));s&&(a=s.color,n=s.image,l=s.type,r=s.bordercolor,o=s.marker)}i+='<div class="color-item" term-id="'+e.id+'">',i+='<div class="color-inner">',i+='<div class="color-term-header">',i+='<div class="preview-term-container"><div class="preview-holder"'+("color"===l&&""!==a?" style=background-color:"+a:"")+">","image"===l&&""!==n&&(i+='<img class="preview-image" src="'+n+'">'),i+="</div></div>",i+='<div class="term-name-container"><span class="term-name">'+e.text+"</span></div>",i+="</div>",i+='<div class="color-term-content">',i+='<div class="inner-fields">';var d="color"===l?"":" hidden";i+='<div class="container list-container">',i+='<div class="color-container'+d+'">',i+='<div class="header"><span class="text">'+p.color+"</span></div>",i+='<div class="content">',i+='<input type="text" name="color-'+e.id+'" class="color-field" value="'+a+'"/>',i+="</div>",i+="</div>",i+='<div class="image-container'+(d="image"===l?"":" hidden")+'">',i+='<div class="header"><span class="text">'+p.image+"</span></div>",i+='<div class="content">',i+='<input type="text" name="image'+e.id+'" class="text hidden image-field" value="'+n+'"/>',i+='<button class="button btn-upload-image">'+p.upload_image+"</button>",i+="</div>",i+="</div>",i+="</div>",i+='<div class="type-container list-container">',i+='<div class="header"><span class="text">'+p.type+"</span></div>",i+='<div class="content"><div class="radio-as-button">';var c="color"===l?" checked":"";i+='<span class="field-type"><input type="radio" class="type-field" id="color-'+e.id+'" name="type'+e.id+'" value="color"'+c+'/> <label for="color">'+p.color+"</label></span>",c="image"===l?" checked":"",i+='<span class="field-type"><input type="radio" class="type-field" id="thumb-'+e.id+'" name="type'+e.id+'" value="image"'+c+'/> <label for="image">'+p.image+"</label></span>",i+="</div></div>",i+="</div>",i+="</div>",i+='<div class="inner-fields">',i+='<div class="border-container list-container">',i+='<div class="header"><span class="text">'+p.border+"</span></div>",i+='<div class="content"><div class="wrap-color">',i+='<input type="text" class="bordercolor-field" name="bordercolor'+e.id+'" class="color-field" value="'+r+'"/>',i+="</div></div>",i+="</div>",i+='<div class="marker-container list-container">',i+='<div class="header"><span class="text">'+p.marker+"</span></div>",i+='<div class="content"><div class="radio-as-button">',c="light"===o?" checked":"",i+='<span class="field-type"><input type="radio" class="marker-field" id="markerlight-'+e.id+'" name="marker'+e.id+'" value="light"'+c+'/> <label lass="field-type-text">'+p.marker_light+"</label></span>",c="dark"===o?" checked":"",i+='<span class="field-type"><input type="radio" class="marker-field" id="markerdark-'+e.id+'" name="marker'+e.id+'" value="dark"'+c+'/> <label lass="field-type-text">'+p.marker_dark+"</label></span>",i+="</div></div>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",i+="</div>"})),i},dependsOn:function(){var a=b.config.field,t=b.config.defaultValues,i="",l=[];t.hasOwnProperty(a.param_name)&&""!==t[a.param_name]&&(l=t[a.param_name]);var r=[];if(!e.isEmptyObject(n))for(var o=0,s=Object.keys(n);o<s.length;o++){var d=s[o],c=n[d];c.hasOwnProperty("url_key")&&r.push(c.url_key)}i+='<select name="'+a.param_name+'"',i+=' class="form-control full-width dropdown pwf-select2 depends-on-field" multiple="multiple">';var u=r;return u.forEach((function(e){i+='<option value ="'+e+'"',i+=l.includes(e)?" selected":"",i+=">"+e+"</option>"})),i+="</select>",e.isEmptyObject(u)&&(i+="<ul><li>"+p.no_option+"</li></ul>"),b.fieldWrapStart()+i+b.fieldWrapEnd()}},w={config:{},init:function(a){return w.config={panelType:"",FilterItemID:"",defaultValues:[],requireValidate:"false",displayVisualTab:!1,predefinedPanel:""},e.extend(w.config,a),w.panelTemplate()},getPanelFields:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[],i=[],n=pro_woo_filter.panel_feilds;""===a&&(a=w.config.panelType),n.forEach((function(n){-1!=e.inArray(a,n.panel)&&("general"===n.group?t.push(n):"visual"===n.group&&i.push(n))}));var l={general:t,visual:i};return l},panelTemplate:function(){var e="",a=w.getPanelFields(),t=a.general,i=a.visual;Array.isArray(i)&&i.length&&(w.config.displayVisualTab=!0);var n={panelType:w.config.panelType,defaultValues:w.config.defaultValues};return e+=w.panelHeader(),e+=w.tabStartGeneral(),t.forEach((function(a){n.field=a,n.defaultValues=w.config.defaultValues,n.defaultValues.length<1&&("radiolist"===w.config.panelType&&"stockstatus"===w.config.predefinedPanel&&("title"===a.param_name&&(n.defaultValues={title:"Stock status"}),"url_key"===a.param_name&&(n.defaultValues={url_key:"stock-status"}),"source_of_options"===a.param_name&&(n.defaultValues={source_of_options:"stock_status"})),"checkboxlist"===w.config.panelType&&"productcategories"===w.config.predefinedPanel&&("title"===a.param_name&&(n.defaultValues={title:"Product categories"}),"url_key"===a.param_name&&(n.defaultValues={url_key:"product-category"})),"priceslider"===w.config.panelType&&"url_key"===a.param_name&&(n.defaultValues={url_key:"price"}),"search"===w.config.panelType&&(n.defaultValues={url_key:"s",title:"Search"}),"rangeslider"===w.config.panelType&&"source_of_options"===n.field.param_name&&(n.field.default="attribute")),e+=b.init(n)})),e+=w.tabEndWrap(),w.config.displayVisualTab&&(e+=w.tabStartVisual(),i.forEach((function(a){n.field=a,e+=b.init(n)})),e+=w.tabEndWrap()),e+=w.panelFooter()},panelHeader:function(){var e="";return e+='<div class="panel-item item-panel postbox status-active-panel panel-'+w.config.panelType+'" data-filter-panel-id="'+w.config.FilterItemID+'" data-required-validate="'+w.config.requireValidate+'" data-panel-type="'+w.config.panelType+'">',e+='<div class="panel-container">',e+='<div class="panel-header">',e+='<div class="wrap-title"><h2 class="panel-title"><span class="link-back">< '+p.btn_back+"</span>"+w.config.panelType+"</h2></div>",e+='<div class="tabs-nav">',e+='<span class="nav-tab-heading nav-general active-tab" data-tab-id="general">'+p.general+"</span>",w.config.displayVisualTab&&(e+='<span class="nav-tab-heading nav-selectors" data-tab-id="visual">'+p.visual+"</span>"),e+="</div>",e+="</div>",e+='<div class="inside">',e+='<form class="option-panel-form">',e+='<div class="wrap-tabs">'},panelFooter:function(){var e="",a="false"===w.config.requireValidate?" disabled":"";return e="</div></form>",e+='<div class="panel-nav">',e+='<button class="button reset-panel-button">'+p.btn_reset+"</button>",e+='<button class="button apply-panel-button"'+a+">"+p.btn_apply+"</button>",e+="</div>",e+="</div>",e+="</div>",e+="</div>"},tabStartGeneral:function(){return'<div class="tab-content active-tab" data-tab-id="general">'},tabStartVisual:function(){return'<div class="tab-content" data-tab-id="visual">'},tabEndWrap:function(){return"</div>"},editPanel:function(a){if(P.processingPanel()){var t="",i=[],n=e(a).closest(".filter-item").attr("data-filter-id"),l=h(n);if(l){if(i=l,s.hasOwnProperty(n))t=s[n];else{var r={panelType:i.item_type,FilterItemID:n,defaultValues:i,requireValidate:"false",predefinedPanel:""};t=w.init(r)}w.displayPanel("edititem",t,n)}}},apply_panel_button:function(){P.processingPanel()},backLinkButton:function(){w.displayPanel("backfromeditpanel")},resetPanel:function(){var a=v();if("item_panel"===a){var t=e(".panel-group .item-panel"),i=e(t).attr("data-panel-type"),n=e(t).attr("data-filter-panel-id"),l=w.getPanelFields(i),r=l.general,o=l.visual,s=e.merge(r,o);s.forEach((function(a){if("multicheckbox"===a.type||"ajaxmulticheckboxlist"===a.type){var t=a.default;e(a.options).each((function(i,n){e("[name="+a.param_name+"]").prop("checked",!1),-1!=e.inArray(n.id,t)&&e('[name="'+a.param_name+'"]').prop("checked",!0).trigger("change")}))}else"switchbutton"===a.type?(e("[name="+a.param_name+"]").prop("checked",!1),a.hasOwnProperty("default")&&"on"===a.default&&e('[name="'+a.param_name+'"]').prop("checked",!0).trigger("change")):"radio"===a.type?(e("[name="+a.param_name+"]").checked=!1,e(a.options).each((function(t,i){a.default==i.id&&e('[name="'+a.param_name+'"][value="'+i.id+'"]').prop("checked",!0).trigger("change")}))):e('.option-panel-form [name="'+a.param_name+'"]').val(a.default).trigger("change")})),e(".filter-items-panel").find("[data-filter-id="+n+"]").find(".filter-title").text(s.title),e("ul.exclude").closest(".control-group").slideUp("fast"),e("ul.include").closest(".control-group").slideUp("fast"),P.addAttributeRequiredValidate(a,"true")}else{var d=e(".setting-panel-form :input");e(d).each((function(a,t){e(t).hasClass("text")?e(t).val(e(t).attr("data-default-value")):e(t).hasClass("checkbox")?Array.isArray(t)&&t.length?e(t).each((function(a,t){"checked"===e(t).attr("data-default-value")?e(t).prop("checked",!0):e(t).prop("checked",!1)})):"checked"===e(t).attr("data-default-value")?e(t).prop("checked",!0):e(t).prop("checked",!1):e(t).hasClass("dropdown")?e(t).val(e(t).attr("data-default-value")):e(t).hasClass("checkbox-switch-field")&&("on"===e(t).attr("data-default-value")?e(t).prop("checked",!0):e(t).prop("checked",!1))})),P.addAttributeRequiredValidate(a,"true")}},displayPanel:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,l="slideOutRight",r="slideInRight";if(e("body").hasClass("rtl")&&(l="slideOutLeft",r="slideInLeft"),"backfromfiltertypepanel"===a)y.removeActiveCssClass(),u(".status-active-panel",l,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").find(".status-unactive-panel").removeClass("status-unactive-panel").addClass("status-active-panel"),u(".status-active-panel",r,(function(){}))}));else if("backfromeditpanel"===a)P.processingPanel()&&(y.removeActiveCssClass(),u(".status-active-panel",l,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").find(".status-unactive-panel").addClass("status-active-panel").removeClass("status-unactive-panel"),u(".status-active-panel",r,(function(){}))})));else if("removeitem"===a){var o="";if(Array.isArray(i)&&i.length)for(var s=0;s<i.length;s++)if(0!==e(".panel-group").find('[data-filter-panel-id="'+i[s]+'"]').length){o=i[s];break}""!==o&&(y.removeActiveCssClass(),u(".status-active-panel",l,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").find(".status-unactive-panel").addClass("status-active-panel").removeClass("status-unactive-panel"),u(".status-active-panel",r,(function(){}))})))}else"additem"===a?0===e(".panel-group").find(".panel-filter-type").length&&(y.removeActiveCssClass(),e(".panel-group").find(".item-panel").length>0?u(".status-active-panel",l,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").append(t),u(".status-active-panel",r,(function(){}))})):u(".status-active-panel",l,(function(){e(".panel-group").find(".status-active-panel").addClass("status-unactive-panel").removeClass("status-active-panel"),e(".panel-group").append(t),u(".status-active-panel",r,(function(){}))}))):"edititem"===a?0===e(".panel-group").find('[data-filter-panel-id="'+i+'"]').length&&(y.removeActiveCssClass(),e(".panel-group").find(".item-panel").length>0?u(".status-active-panel",l,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").append(t),y.addActiveCssClass(i),k.sortEvent(),k.colorFieldEvent(),x.initEditPanelEvent(),u(".status-active-panel",r,(function(){}))})):u(".status-active-panel",l,(function(){e(".panel-group").find(".status-active-panel").addClass("status-unactive-panel").removeClass("status-active-panel"),e(".panel-group").append(t),y.addActiveCssClass(i),k.sortEvent(),k.colorFieldEvent(),x.initEditPanelEvent(),u(".status-active-panel",r,(function(){}))}))):"additemtype"===a&&(y.removeActiveCssClass(),e(".panel-group").find(".item-panel").length,u(".status-active-panel",l,(function(){e(".panel-group").find(".status-active-panel").remove(),y.appendItem(n),e(".panel-group").append(t),x.initEditPanelEvent(),k.sortEvent(),k.colorFieldEvent(),u(".status-active-panel",r,(function(){}))})))}},x={getSourceOptionsData:function(){var a={doAjax:!1,data:"",args:"",cachedTaxonomyName:""},t="",i="",n="",r=e('[name="source_of_options"]').val();"category"===r?(t=e('[name="item_source_category"]').val(),i="product_cat",n="item_source_category"):"attribute"===r?(i=e('[name="item_source_attribute"]').val(),n="item_source_attribute"):"taxonomy"===r&&(t=e('[name="item_source_taxonomy_sub"]').val(),i=e('[name="item_source_taxonomy"]').val(),n="item_source_taxonomy");var o=r+t+i+n;return a.cachedTaxonomyName=o,l.hasOwnProperty(o)?a.data=l[o]:(a.doAjax=!0,a.args={source_of_option:r,taxonomy_name:i,parent:t}),a},DisplayOrHideIncludeExludeFields:function(){var a=e('[name="item_display"]').val(),t=e(".ajax-field-include").closest(".control-group"),i=e(".ajax-field-exclude").closest(".control-group");"selected"==a?(t.show(),i.hide()):"except"==a?(i.show(),t.hide()):(i.hide(),t.hide()),e(".pro-woo-filter").on("change",'[name="item_display"]',(function(){var a=e(this).val();"selected"==a?(t.slideDown("fast"),i.slideUp("fast")):"except"==a?(i.slideDown("fast"),t.slideUp("fast")):(i.slideUp("fast"),t.slideUp("fast"))}))},displayParentOption:function(){var a=e('[name="source_of_options"]').val();"category"===a||"taxonomy"===a?e('[name="item_display"] option[value="parent"]').show():(e('[name="item_display"] option[value="parent"]').hide(),"parent"==e('[name="item_display"]').val()&&e('[name="item_display"]').val("all"));if(e(".panel-item.item-panel").hasClass("panel-rangeslider")){var t=e('[name="source_of_options"]');"category"===t.val()&&e(t).val("attribute"),e(t).find('option[value="category"]').hide(),e(t).find('option[value="tag"]').hide(),e(t).find('option[value="orderby"]').hide(),e(t).find('option[value="author"]').hide(),e(t).find('option[value="stock_status"]').hide(),e(t).find('option[value="on_sale"]').hide(),e(t).find('option[value="featured"]').hide()}if(!e(".panel-item.item-panel").hasClass("panel-checkboxlist")){var i=e('[name="source_of_options"]');e(i).find('option[value="on_sale"]').attr("disabled",!0),e(i).find('option[value="featured"]').attr("disabled",!0)}},colorFieldEvent:function(){e(".color-field").wpColorPicker({border:!0,change:function(a,t){P.addAttributeRequiredValidate("item_panel","true"),e(this).closest(".color-item").find(".preview-image").length>0&&e(this).closest(".color-item").find(".preview-image").remove(),e(this).closest(".color-item").find(".preview-holder").css("background-color",t.color.toString())}}),e(".bordercolor-field").wpColorPicker({border:!0,change:function(e,a){P.addAttributeRequiredValidate("item_panel","true")}})},fillAjaxColorFields:function(){var a="",t=[],i=e('[name="source_of_options"]').val();if("meta"!=i){if(e(".color-list").closest(".control-group").show(),"item_panel"===v()){var n=h(e(".panel-group .item-panel").attr("data-filter-panel-id"));n&&(t=n.colors)}var r=x.getSourceOptionsData();if(!1===r.doAjax){var o=r.data;a=b.colorFields("colors",o,t),e(".color-list").empty(),e(".color-list").append(a),x.colorFieldEvent()}else{e(".color-list").closest(".control-group").addClass("transparent");var s=j("get_taxonomies_using_ajax",r.args);s.done((function(i){i.data.hasOwnProperty("data")?(l[r.cachedTaxonomyName]=i.data.data,a=b.colorFields("colors",i.data.data,t)):a='<li class="alert-message">'+i.data.message+"</li>",e(".color-list").closest(".control-group").removeClass("transparent"),e(".color-list").empty(),e(".color-list").append(a),x.colorFieldEvent()})),s.fail((function(t,i,n){a='<li class="alert-message">'+f()+"</li>",e(".color-list").empty(),e(".color-list").append(a),e(".color-list").closest(".control-group").removeClass("transparent")}))}}else e(".color-list").closest(".control-group").hide()},changeTaxonomyDropdowList:function(){var a="",t="",i=e('[name="source_of_options"]').val(),n=e('[name="item_source_taxonomy"]').val(),r=e('[name="item_source_taxonomy_sub"]').val(),o=e(".ajax-dropdown-field-item_source_taxonomy_sub");if("taxonomy"===i){if("item_panel"===v()){var s=h(e(".panel-group .item-panel").attr("data-filter-panel-id"));s&&"taxonomy"===s.source_of_options&&(t=s.item_source_taxonomy_sub)}var d="taxonomysubchildren"+i+n+r;if(l.hasOwnProperty(d)){var c=l[d];a=b.ajaxdropdownfield(c,t),e(o).empty(),e(o).closest(".control-group").slideDown("fast"),e(o).append(a)}else{e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").addClass("transparent");var p=j("get_taxonomies_using_ajax",{parent:r,source_of_option:i,taxonomy_name:n,add_all_text:"true"});p.done((function(i){i.data.hasOwnProperty("data")?(l[d]=i.data.data,a=b.ajaxdropdownfield(i.data.data,t)):a='<li class="alert-message">'+i.data.message+"</li>",e(o).empty(),e(o).closest(".control-group").slideDown("fast"),e(o).append(a),e(o).closest(".control-group").removeClass("transparent")})),p.fail((function(t,i,n){a='<li class="alert-message">'+f()+"</li>",e(o).empty(),e(o).closest(".control-group").slideDown("fast"),e(o).append(a),e(o).closest(".control-group").removeClass("transparent")}))}}else e(o).closest(".control-group").slideUp("fast")},changeIncludeExcludeFieldData:function(){var t="",i=[],n="",l="",r="",s=[],d=e('[name="source_of_options"]').val(),c=e('[name="item_display"]').val();if(!["attribute","category","taxonomy","tag","author"].includes(d)||"selected"!=c&&"except"!=c)e(".ajax-field-exclude").closest(".control-group").slideUp("fast"),e(".ajax-field-include").closest(".control-group").slideUp("fast");else{if("category"===d)n=e('[name="item_source_category"]').val(),r="product_cat",l="item_source_category";else if("attribute"===d)r=e('[name="item_source_attribute"]').val(),l="item_source_attribute";else if("taxonomy"===d)n=e('[name="item_source_taxonomy_sub"]').val(),r=e('[name="item_source_taxonomy"]').val(),l="item_source_taxonomy";else if("author"===d){var p=[],u=e('[name="user_roles"]').select2("data");e.each(u,(function(e,a){p.push(a.id)})),p.length&&(s=p)}var m="include";if("except"==c&&(m="exclude"),"item_panel"===v()){var _=h(e(".panel-group .item-panel").attr("data-filter-panel-id"));if(_){var g=_.source_of_options;i=("category"===g&&"category"===d&&n==_[n]||"taxonomy"===g&&"taxonomy"===d&&r==_[l]&&n==_[n]||"attribute"===g&&"attribute"===d&&_[l],_[m])}}var y="hierarchy"+d+n+r+l+s.toString(),b=e(".ajax-field-"+m);if(o.hasOwnProperty(y)){var w=o[y];t=a(m,w,i),e(b).empty(),e(b).closest(".control-group").slideDown("fast"),e(b).append(t)}else{e(b).closest(".control-group").addClass("transparent");var x=j("get_hierarchy_taxonomies_using_ajax",{source_of_option:d,taxonomy_name:r,parent:n,user_roles:s});x.done((function(n){n.data.hasOwnProperty("data")?(o[y]=n.data.data,t=a(m,n.data.data,i)):t='<li class="alert-message">'+n.data.message+"</li>",e(b).empty(),e(b).closest(".control-group").slideDown("fast"),e(b).append(t),e(b).closest(".control-group").removeClass("transparent")})),x.fail((function(a,i,n){t='<li class="alert-message">'+f()+"</li>",e(b).empty(),e(b).closest(".control-group").slideDown("fast"),e(b).append(t),e(b).closest(".control-group").removeClass("transparent")}))}}},changeboxlistlabel:function(){var a="",t=[],i=e('[name="source_of_options"]').val();if(!["meta","stock_status","on_sale","featured"].includes(i)){if("item_panel"===v()){var n=h(e(".panel-group .item-panel").attr("data-filter-panel-id"));n&&(t=n.boxlistlabel)}var r=x.getSourceOptionsData(),o=e(".box-list-label-require-ajax");if(!1===r.doAjax){var s=r.data;a=b.boxlistlabelfields(s,t),e(o).empty(),e(o).append(a)}else{e(o).closest(".control-group").addClass("transparent");var d=j("get_taxonomies_using_ajax",r.args);d.done((function(i){i.data.hasOwnProperty("data")?(l[r.cachedTaxonomyName]=i.data.data,a=b.boxlistlabelfields(i.data.data,t)):a='<li class="alert-message">'+i.data.message+"</li>",e(o).closest(".control-group").removeClass("transparent"),e(o).empty(),e(o).append(a)})),d.fail((function(t,i,n){a='<li class="alert-message">'+f()+"</li>",e(o).empty(),e(o).append(a),e(o).closest(".control-group").removeClass("transparent")}))}}},ajaxRuleDisplay:function(){var a=e(".display-rules-container").find("[data-select2-ajax-param]");if(a.length>0){var t=a.length,i=0;!function n(l){var o=e(l).attr("data-select2-ajax-param"),s=e(l).attr("data-select2-ajax-value");if(r.hasOwnProperty(o)){var d=b.displayRulesField.ruleOptgroup(r[o],s);e(l).empty().append(d).select2({width:"100%"}),e(l).closest(".rule").removeClass("transparent"),++i<t&&n(a[i])}else{j("get_group_taxonomies_using_ajax","",o).done((function(d){r[o]=d.data.data;var c=b.displayRulesField.ruleOptgroup(d.data.data,s);e(l).empty().append(c).select2({width:"100%"}),e(l).closest(".rule").removeClass("transparent"),++i<t&&n(a[i])}))}}(a[i])}},initEventRuleDisplayField:function(){e(".rule-group").each((function(){e(this).find(".rule").removeClass("last-rule").last().addClass("last-rule")})),e(".field-rule-param, .field-rule-equal,.field-rule-value-select2").on("change",(function(){P.addAttributeRequiredValidate("item_panel","true");var a=e(this).closest(".control-content").find(".alert-danger");a&&a.remove()})),e(".field-rule-value-select2").select2({width:"100%"})},initEditPanelEvent:function(){(e(".panel-colorlist").length>0&&x.fillAjaxColorFields(),e('[name="price_url_format"]').length)&&("dash"===e('[name="price_url_format"]:checked').val()?e('[name="url_key_min_price"], [name="url_key_max_price"]').closest(".control-group").hide():e('[name="url_key_min_price"], [name="url_key_max_price"]').closest(".control-group").show());e('[name="range_slider_url_format"]').length&&("dash"===e('[name="range_slider_url_format"]:checked').val()?e('[name="url_key_range_slider_min"], [name="url_key_range_slider_max"]').closest(".control-group").hide():e('[name="url_key_range_slider_min"], [name="url_key_range_slider_max"]').closest(".control-group").show());(e('[name="display_toggle_content"]').is(":checked")?e('[name="default_toggle_state"]').closest(".control-group").show():e('[name="default_toggle_state"]').closest(".control-group").hide(),e('[name="display_title"]').is(":checked")?(e('[name="display_toggle_content"]').closest(".control-group").show(),e('[name="display_toggle_content"]').is(":checked")&&e('[name="default_toggle_state"]').closest(".control-group").show()):(e('[name="display_toggle_content"]').closest(".control-group").hide(),e('[name="default_toggle_state"]').closest(".control-group").hide()),x.eventSourceOfOptions(e('[name="source_of_options"]').val(),"fast"),"on"===e('[name="multi_select"]:checked').val()?e('[name="query_type"]').closest(".control-group").show():e('[name="query_type"]').closest(".control-group").hide(),e('[name="inline_style"]').length>0&&(e('[name="inline_style"]').is(":checked")?e('[name="display_hierarchical"]').closest(".control-group").hide():e('[name="display_hierarchical"]').closest(".control-group").show()),e(".panel-colorlist").length>0&&e('[name="source_of_options"] option[value="stock_status"]').hide(),(e(".panel-checkboxlist").length>0||e(".panel-boxlist").length>0||e(".panel-colorlist").length>0||e(".panel-textlist").length>0)&&e('[name="source_of_options"] option[value="orderby"]').hide(),e(".pwf-select2").length>0&&e(".pwf-select2").select2({width:"100%"}),e(".panel-item.item-panel").hasClass("panel-rangeslider"))&&("custom"===e('[name="range_slider_meta_source"]').val()?e('[name="meta_key"]').closest(".control-group").show():e('[name="meta_key"]').closest(".control-group").hide());x.displayParentOption(),x.changeTaxonomyDropdowList(),x.DisplayOrHideIncludeExludeFields(),x.changeIncludeExcludeFieldData(),x.ajaxRuleDisplay(),x.changeboxlistlabel()},eventSourceOfOptions:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fast",i=[],n=[],l=['[name="meta_key"], [name="meta_compare"], [name="meta_type"]',".pwf-meta-field-box",'[name="range_slider_meta_source"]'],r=['[name="item_source_category"]','[name="item_source_taxonomy"]','[name="item_source_attribute"]','[name="item_display"]','[name="item_source_orderby"]','[name="product_variations"]','[name="user_roles"]','[name="order_by"]','[name="display_hierarchical"]','[name="display_hierarchical_collapsed"]','[name="more_options_by"]','[name="height_of_visible_content"]','[name="range_slider_meta_source"]',".ajax-dropdown-field-item_source_taxonomy_sub",".ajax-field-include",".ajax-field-exclude",".pwf-meta-field-box"];r=r.concat(l),"on_sale"===a||"featured"===a||"stock_status"===a?i=r:"orderby"===a?n=['[name="item_source_orderby"]']:"author"===a?n=['[name="user_roles"]','[name="item_display"]','[name="more_options_by"]','[name="height_of_visible_content"]','[name="order_by"]']:"category"===a?(i=(i=['[name="item_source_taxonomy"]','[name="item_source_orderby"]','[name="item_source_attribute"]','[name="product_variations"]','[name="user_roles"]',".ajax-dropdown-field-item_source_taxonomy_sub",".pwf-meta-field-box"]).concat(l),e('[name="display_hierarchical"]').is(":checked")||i.push('[name="display_hierarchical_collapsed"]')):"taxonomy"===a?(i=(i=['[name="item_source_category"]','[name="item_source_orderby"]','[name="item_source_attribute"]','[name="product_variations"]','[name="user_roles"]',".pwf-meta-field-box"]).concat(l),e('[name="display_hierarchical"]').is(":checked")||i.push('[name="display_hierarchical_collapsed"]')):"attribute"===a?i=(i=['[name="item_source_category"]','[name="item_source_taxonomy"]','[name="item_source_orderby"]','[name="user_roles"]',".pwf-meta-field-box",".ajax-dropdown-field-item_source_taxonomy_sub",'[name="display_hierarchical"]','[name="display_hierarchical_collapsed"]']).concat(l):"tag"===a?i=(i=['[name="item_source_category"]','[name="item_source_taxonomy"]','[name="item_source_attribute"]','[name="item_source_orderby"]','[name="product_variations"]','[name="user_roles"]',".pwf-meta-field-box",".ajax-dropdown-field-item_source_taxonomy_sub",'[name="display_hierarchical"]','[name="display_hierarchical_collapsed"]']).concat(l):"meta"===a&&((n=l).push('[name="more_options_by"]','[name="height_of_visible_content"]'),e(".panel-item.item-panel").hasClass("panel-rangeslider")&&e('[name="meta_key"]').closest(".control-group").slideUp("fast"));var o=["category","taxonomy","attribute","author","tag"];if(o.includes(a)){var s=e('[name="item_display"]').val(),d=!1,c=!1;"selected"==s?(d=!0,c=!1):"except"==s&&(d=!1,c=!0),"author"===a?(d&&n.push(".ajax-field-include"),c&&n.push(".ajax-field-exclude")):(d||i.push(".ajax-field-include"),c||i.push(".ajax-field-exclude"))}if(n.length>0)for(var p=0;p<r.length;p++){var u=r[p];n.includes(u)?x.hideShowField(u,"show",t):x.hideShowField(u,"hide",t)}else for(p=0;p<r.length;p++){var m=r[p];i.includes(m)?x.hideShowField(m,"hide",t):x.hideShowField(m,"show",t)}var f=["scrollbar","morebutton"],v=e('[name="more_options_by"]').val();if(f.includes(v)?e('[name="height_of_visible_content"]').closest(".control-group").show():e('[name="height_of_visible_content"]').closest(".control-group").hide(),e(".pwf-box-list-label").length>0&&("stock_status"===a||"meta"===a?e(".pwf-box-list-label").closest(".control-group").slideUp("fast"):e(".pwf-box-list-label").closest(".control-group").slideDown("fast")),e('[name="dropdown_style"]').length>0&&x.dropdownDisplayFields(e('[name="dropdown_style"]').val()),e('[name="depends_on"]').length>0){var _=e('[name="depends_on"]').val();0===_.length&&(_=""),x.dependsOn(_)}},hideShowField:function(a,t,i){"show"===t?"fast"===i?e(a).closest(".control-group").show():e(a).closest(".control-group").slideDown("fast"):"fast"===i?e(a).closest(".control-group").hide():e(a).closest(".control-group").slideUp("fast")},dropdownDisplayFields:function(a){var t=e('[name="source_of_options"]').val();"plugin"===a?("orderby"===t||"stock_status"===t?x.hideShowField('[name="multi_select"]',"hide","slow"):x.hideShowField('[name="multi_select"]',"show","slow"),"category"===t||"taxonomy"===t?(e('[name="display_hierarchical"]').closest(".control-group").slideDown("fast"),"on"===e('[name="multi_select"]:checked').val()?x.hideShowField('[name="query_type"]',"show","slow"):x.hideShowField('[name="query_type"]',"hide","slow")):(x.hideShowField('[name="display_hierarchical"]',"hide","slow"),x.hideShowField('[name="query_type"]',"hide","slow"))):(x.hideShowField('[name="display_hierarchical"]',"hide","slow"),x.hideShowField('[name="multi_select"]',"hide","slow"),x.hideShowField('[name="query_type"]',"hide","slow"))},dependsOn:function(a){""===a?e('[name="depends_on_operator"]').closest(".control-group").slideUp("fast"):e('[name="depends_on_operator"]').closest(".control-group").slideDown("fast")}},k={createMetaFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;if(Array.isArray(a)||a.length){var t="";return a.forEach((function(a){t+=k.addMetaField(e,a,!1)})),t}},addMetaField:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="",l="",r="",o="";e.isEmptyObject(t)||(l=t.label,r=t.value,o=t.hasOwnProperty("slug")?t.slug:""),!1===i&&(n=" pwf-hide-meta-content");var s='<div class="pwf-meta-item'+n+'">';s+='<div class="pwf-meta-header">',s+='<div class="meta-title">';var d="Title";if(""!==l&&(d=l),s+=d,s+="</div>",s+='<div class="btn-actions">',s+='<span class="btn-link meta-edit pwf-meta-edit-action">'+p.edit+"</span>",s+='<span class="btn-link meta-close pwf-meta-edit-action">'+p.close+"</span>",s+='<span class="btn-link pwf-meta-remove-action">'+p.remove+"</span>",s+="</div>",s+="</div>",s+='<div class="pwf-meta-content">',s+=k.addTextInput(p.label,"metalabel","label",l),s+=k.addTextInput(p.slug,"metaslug","",o),s+=k.addTextInput(p.value,"metavalue","value",r,p.meta_value_desc),"colorlist"===a&&(s+='<div class="pwf-meta-inner color-list colors">'+k.addColorField(t)+"</div>"),s+="</div>",s+="</div>",!i)return s;e(".meta-field-items").append(s),k.refreshSort(),k.colorFieldEvent()},addTextInput:function(e,a,t,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l='<div class="pwf-meta-inner">';return l+='<div class="label-container"><span="label-text">'+e+"</span></div>",l+='<div class="input-container">',l+='<input placeholder="'+t+'" type="text" class="form-control full-width text" name="'+a+'" value="'+i+'"/>',l+=""===n?"":'<div class="pwf-meta-desc">'+n+"</div>",l+="</div>",l+="</div>"},addColorField:function(e){var a="",t=e.hasOwnProperty("color")?e.color:"",i=e.hasOwnProperty("image")?e.image:"",n=e.hasOwnProperty("type")?e.type:"",l=e.hasOwnProperty("bordercolor")?e.bordercolor:"",r=e.hasOwnProperty("marker")?e.marker:"light",o=Math.floor(1e5*Math.random());a+='<div class="color-item">',a+='<div class="color-inner">',a+='<div class="color-term-header">',a+='<div class="preview-term-container"><div class="preview-holder"'+("color"===n&&""!==t?" style=background-color:"+t:"")+">","image"===n&&""!==i&&(a+='<img class="preview-image" src="'+i+'">'),a+="</div></div>",a+="</div>",a+='<div class="color-term-content">',a+='<div class="inner-fields">';var s="color"===n?"":" hidden";a+='<div class="container list-container">',a+='<div class="color-container'+s+'">',a+='<div class="header"><span class="text">'+p.color+"</span></div>",a+='<div class="content">',a+='<input type="text" name="color" class="color-field" value="'+t+'"/>',a+="</div>",a+="</div>",a+='<div class="image-container'+(s="image"===n?"":" hidden")+'">',a+='<div class="header"><span class="text">'+p.image+"</span></div>",a+='<div class="content">',a+='<input type="text" name="image" class="text hidden image-field" value="'+i+'"/>',a+='<button class="button btn-upload-image">'+p.upload_image+"</button>",a+="</div>",a+="</div>",a+="</div>",a+='<div class="type-container list-container">',a+='<div class="header"><span class="text">'+p.type+"</span></div>",a+='<div class="content"><div class="radio-as-button">';var d="color"===n?" checked":"";return a+='<span class="field-type"><input type="radio" class="type-field" name="type'+o+'" value="color"'+d+'/> <label for="color">'+p.color+"</label></span>",a+='<span class="field-type"><input type="radio" class="type-field" name="type'+o+'" value="image"'+(d="image"===n?" checked":"")+'/> <label for="image">'+p.image+"</label></span>",a+="</div></div>",a+="</div>",a+="</div>",a+='<div class="inner-fields">',a+='<div class="border-container list-container">',a+='<div class="header"><span class="text">'+p.border+"</span></div>",a+='<div class="content"><div class="wrap-color">',a+='<input type="text" class="bordercolor-field" name="bordercolor" class="color-field" value="'+l+'"/>',a+="</div></div>",a+="</div>",a+='<div class="marker-container list-container">',a+='<div class="header"><span class="text">'+p.marker+"</span></div>",a+='<div class="content"><div class="radio-as-button">',a+='<span class="field-type"><input type="radio" class="marker-field" name="marker'+o+'" value="light"'+(d="light"===r?" checked":"")+'/> <label lass="field-type-text">'+p.marker_light+"</label></span>",a+='<span class="field-type"><input type="radio" class="marker-field" name="marker'+o+'" value="dark"'+(d="dark"===r?" checked":"")+'/> <label lass="field-type-text">'+p.marker_dark+"</label></span>",a+="</div></div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>"},removeMetaField:function(a){e(a).closest(".pwf-meta-item").remove()},editMetaField:function(a){e(a).closest(".pwf-meta-item").toggleClass("pwf-hide-meta-content")},sortEvent:function(){e(".meta-field-items").sortable({connectWith:".meta-field-items",handle:".pwf-meta-header",cancel:".pwf-meta-toggle",placeholder:"pwf-meta-placeholder"})},refreshSort:function(){e(".meta-field-items").sortable("refresh")},colorFieldEvent:function(){e(".pwf-meta-item .color-field").wpColorPicker({border:!0,change:function(a,t){e(this).closest(".color-item").find(".preview-image").length>0&&e(this).closest(".color-item").find(".preview-image").remove(),e(this).closest(".color-item").find(".preview-holder").css("background-color",t.color.toString()),P.addAttributeRequiredValidate("item_panel","true")}}),e(".pwf-meta-item .bordercolor-field").wpColorPicker({border:!0,change:function(e,a){P.addAttributeRequiredValidate("item_panel","true")}})}},P={addAttributeRequiredValidate:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;""===a&&(a=v()),"item_panel"===a?e(".panel-group .item-panel").attr("data-required-validate",t):e(".panel-group .setting-panel").attr("data-required-validate",t),"true"===t?"item_panel"===a?e(".panel-group .item-panel").find(".apply-panel-button").prop("disabled",!1):e(".panel-group .setting-panel").find(".apply-panel-button").prop("disabled",!1):"false"===t&&("item_panel"===a?e(".panel-group .item-panel").find(".apply-panel-button").prop("disabled",!0):e(".panel-group .setting-panel").find(".apply-panel-button").prop("disabled",!0))},hasPanelRequiredValidate:function(a){if("item_panel"===a)var t=e(".panel-group").find(".item-panel").attr("data-required-validate");else t=e(".panel-group").find(".setting-panel").attr("data-required-validate");return"true"===t},checkFieldHasValue:function(e){return void 0!==i(e)&&!1!==e&&""!==e?e:""},addActiveLoader:function(){e(".pwf-overlay").length>0?e(".pwf-overlay").removeClass("pwf-unactive").addClass("pwf-active"):e("body").prepend('<div class="pwf-overlay pwf-active"><span class="pwf-loader"></span></div>')},removeActiveLoader:function(){e(".pwf-overlay").removeClass("pwf-active").addClass("pwf-unactive")},processingPanel:function(){P.addActiveLoader();var e=!1,a=v();return P.hasPanelRequiredValidate(a)?P.validatePanelData(a)?(P.addAttributeRequiredValidate(a,"false"),P.savePanelData(a),e=!0):(alert(p.alert_message),P.addAttributeRequiredValidate(a,"true"),e=!1):e=!0,P.removeActiveLoader(),e},validatePanelData:function(a){var t=!0,n="";if("item_panel"===a){e(".option-panel-form .alert-danger").length>0&&e(".option-panel-form .alert-danger").remove();var l=e("form.option-panel-form :input");n=e(".option-panel-form").closest(".panel-item").attr("data-filter-panel-id")}else{e(".setting-panel-form .alert-danger").length>0&&e(".setting-panel-form .alert-danger").remove();l=e(".setting-panel-form :input")}var r=e(".item-panel").attr("data-panel-type");if("rangeslider"===r){var o='input[name="url_key_range_slider_min"], input[name="url_key_range_slider_max"]';"two"!==e('input[name="range_slider_url_format"]:checked').attr("value")?e(o).removeAttr("aria-required"):e(o).attr("aria-required","true")}else if("priceslider"===r){var s='input[name="url_key_min_price"], input[name="url_key_max_price"]';"two"!==e('input[name="price_url_format"]:checked').attr("value")?e(s).removeAttr("aria-required"):e(s).attr("aria-required","true")}return l.each((function(a,l){var r=e(l).attr("aria-required");if("undefined"!==i(r)&&!1!==r){var o=e(l).val();if(!o)return t=!1,!e(l).closest(".control-content").find(".alert-danger").length>0&&e(l).closest(".control-content").append('<div class="alert-danger" role="alert">'+p.required_field+"</div>"),t;var s=e(l).attr("name");if(["url_key","url_key_min_price","url_key_max_price","url_key_date_before","url_key_date_after","url_key_range_slider_min","url_key_range_slider_max"].includes(s))if(!1===_.init(o,n))return t=!1,!e(l).closest(".control-content").find(".alert-danger").length>0&&e(l).closest(".control-content").append(m()),t}})),t},getValidatePanelData:function(a){var t={};return e(a).each((function(a,i){if("multicheckbox"===i.type||"ajaxmulticheckboxlist"===i.type){var n=[];e.each(e('input[name="'+i.param_name+'"]:checked'),(function(){n.push(e(this).val())})),t[i.param_name]=n}else if("switchbutton"===i.type){var l="";e('input[name="'+i.param_name+'"]').is(":checked")&&(l=e('input[name="'+i.param_name+'"]').val()),t[i.param_name]=l}else if("radio"===i.type){var r;r=e('input[name="'+i.param_name+'"]:checked').attr("value"),t[i.param_name]=r}else if("ajaxdropdownselect2"===i.type){var o=[],s=e('[name="'+i.param_name+'"]').select2("data");e.each(s,(function(e,a){o.push(a.id)})),t[i.param_name]=o}else{var d=e(".panel-group").find("[name="+i.param_name+"]").val();t[i.param_name]=d||""}})),t},savePanelData:function(a){if("item_panel"===a){var l=e(".panel-group .item-panel").attr("data-panel-type"),r=e(".panel-group .item-panel").attr("data-filter-panel-id"),o=w.getPanelFields(l),s=o.general,d=o.visual,p=e.merge(s,d),u=P.getValidatePanelData(p);if("meta"===u.source_of_options&&e(".meta-field-items").find(".pwf-meta-item").length>0){var m=[],f=e(".pwf-meta-item");e(f).each((function(a,t){var i=e(t).find('[name="metalabel"]').val(),n=e(t).find('[name="metaslug"]').val(),l=e(t).find('[name="metavalue"]').val();if(i.length&&l.length){var r={label:i,slug:n,value:l};e(".panel-colorlist").length>0&&(r.color=P.checkFieldHasValue(e(t).find(".color-field").val()),r.image=P.checkFieldHasValue(e(t).find(".image-field").val()),r.type=P.checkFieldHasValue(e(t).find(".type-field:checked").attr("value")),r.bordercolor=P.checkFieldHasValue(e(t).find(".bordercolor-field").val()),r.marker=P.checkFieldHasValue(e(t).find(".marker-field:checked").attr("value"))),m.push(r)}})),u.metafield=m}else u.metafield="";if("meta"!==u.source_of_options&&e(".panel-colorlist").length>0){var v=[];e(".color-item").each((function(a,t){var i=e(t).attr("term-id");if(i){var n={term_id:i,color:P.checkFieldHasValue(e(t).find(".color-field").val()),image:P.checkFieldHasValue(e(t).find(".image-field").val()),type:P.checkFieldHasValue(e(t).find(".type-field:checked").attr("value")),bordercolor:P.checkFieldHasValue(e(t).find(".bordercolor-field").val()),marker:P.checkFieldHasValue(e(t).find(".marker-field:checked").attr("value"))};v.push(n)}})),u.colors=v}else u.colors="";if(e(".panel-boxlist").length>0){var _=[];e(".lable-item").each((function(a,t){var n=e(t).find(".item-value").val(),l=e(t).attr("data-item-label-id");if(void 0!==i(n)&&!1!==n&&""!==n&&void 0!==i(l)&&!1!==l&&""!==l){var r={term_id:l,value:n};_.push(r)}})),u.boxlistlabel=_}if(e(".pwf-rule").length>0){var h=[];e(".pwf-rule").each((function(a,t){var i=e(t).find(".field-rule-param").val(),n=e(t).find(".field-rule-value-select2").val();if(""!==n){var l={param:i,value:n};h.push(l)}})),Array.isArray(h)&&h.length?u.hidden_rules=h:u.hidden_rules=""}u.item_type=l,n[r]=u,e(".filters-list").find("[data-filter-id="+r+"]").find(".filter-title").text(u.title)}else{var g=[];for(var y in c){var b=c[y];g=g.concat(b.fields)}var x=(t=P.getValidatePanelData(g)).post_title;e(".wp-heading-inline .heading-filter-title").length>0?e(".wp-heading-inline .heading-filter-title").text(x):e(".wp-heading-inline").append('<span class="heading-filter-title">'+x+"</span>")}}},O=0;function F(){if(P.processingPanel()){var a,l;l=function a(t){var l={};return e(t).each((function(t,r){var o=e(r).attr("data-filter-id"),s=e(r).attr("data-layout");if("undefined"!==i(s)&&!1!==s&&"column"===s){var d=n[o],c=e(r).find(".column-inner").first().children(".filter-item"),p="id-"+O;O++,!e.isEmptyObject(c)&&c.length>0?(d.children=a(c),l[p]=d):(d.children={},l[p]=d)}else l["id-"+O]=n[o],O++})),l}(e(".filters-list").children(".filter-item")),O=0,a={setting:t,items:l};var r="";return"edit"===d.current_screen&&(r=d.post_id),e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:"save_filter_post",nonce:d.nonce,data:JSON.stringify(a),post_id:r},beforeSend:function(){P.addActiveLoader(),e(".filters-btn").find(".message").length>0&&e(".filters-btn").find(".message").remove()}}).done((function(a){"true"===a.success?("edit"!==d.current_screen&&(d.current_screen="edit",d.post_id=a.post_id,function(e){if(d.hasOwnProperty("edit_link")){var a=d.edit_link;a=a.replace("post_id",e),window.location.href=a}}(a.post_id)),e(".filters-btn").prepend('<span class="message success-message">'+p.filter_post_updated+"</span>"),setTimeout((function(){e(".filters-btn").find(".message").remove()}),1e4)):e(".filters-btn").prepend('<span class="message error-message">'+a.message+"</span>")})).fail((function(a,t,i){e(".filters-btn").prepend('<span class="message error-message">'+p.error+" : "+i+"</span>")})).always((function(){P.removeActiveLoader()})),!1}}function j(a,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n={action:a,nonce:d.nonce};return"get_hierarchy_taxonomies_using_ajax"===a||"get_taxonomies_using_ajax"===a?(n.source_of_option=t.source_of_option,n.taxonomy_name=t.taxonomy_name,n.parent=t.parent,"get_taxonomies_using_ajax"===a&&t.hasOwnProperty("add_all_text")&&(n.add_all_text=t.add_all_text),t.hasOwnProperty("user_roles")&&(n.user_roles=t.user_roles)):"get_group_taxonomies_using_ajax"===a&&(n.source=i),e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:n})}var C={init:function(){var a;e(".pro-woo-filter").on("click",".reset-panel-button",(function(e){e.preventDefault(),w.resetPanel()})),e(".pro-woo-filter").on("click",".apply-panel-button",(function(e){e.preventDefault(),w.apply_panel_button()})),e(".pro-woo-filter").on("click",".filters-btn .add-item",(function(e){if(e.preventDefault(),P.processingPanel()){var a=(t="",i=p.select_filter_item,n=[{panelLabel:p.field,panelItems:[{id:"checkboxlist",text:p.checkboxlist},{id:"radiolist",text:p.radiolist},{id:"dropdownlist",text:p.dropdownlist},{id:"colorlist",text:p.colorlist},{id:"boxlist",text:p.boxlist},{id:"textlist",text:p.textlist},{id:"date",text:p.date},{id:"priceslider",text:p.priceslider},{id:"rangeslider",text:p.range_slider},{id:"rating",text:p.rating},{id:"search",text:p.search},{id:"button",text:p.button}]},{panelLabel:p.preset,panelItems:[{id:"productcategories",text:p.categories},{id:"stockstatus",text:p.stockstatus}]},{panelLabel:p.layout,panelItems:[{id:"column",text:p.column}]}],t+='<div class="panel-item panel-filter-type postbox status-active-panel">',t+='<div class="panel-container">',t+='<div class="panel-header">',t+='<div class="wrap-title"><span class="link-back">< '+p.btn_back+'</span><h2 class="panel-title">'+i+"</h2></div>",t+="</div>",n.forEach((function(e){t+='<div class="pwf-items-list">',t+='<div class="pwf-items-lable">'+e.panelLabel+"</div>",t+='<div class="pwf-items-content pwf-flex-content">',e.panelItems.forEach((function(e){t+='<div class="pwf-flex-item add-new-element" data-item-type="'+e.id+'"><div class="pwf-item-inner"><div class="filter-type-text">'+e.text+"</div></div></div>"})),t+="</div>",t+="</div>"})),t+="</div>",t+="</div>");w.displayPanel("additem",a)}var t,i,n})),e(".pro-woo-filter").on("click",".save-project",(function(e){e.preventDefault(),F()})),e(".pro-woo-filter").on("change input",".setting-panel-form :input, ul.list input",(function(a){a.preventDefault(),P.addAttributeRequiredValidate("setting_panel","true");var t=e(this).closest(".control-content").find(".alert-danger");t&&t.remove()})),e(".pro-woo-filter").on("change input click",".option-panel-form :input, .image-field, .type-field, .bordercolor-field, .marker-field, ul.list input",(function(a){var t=e(this).attr("name");if(!["url_key","url_key_min_price","url_key_max_price","url_key_date_before","url_key_date_after","url_key_range_slider_min","url_key_range_slider_max"].includes(t)){P.addAttributeRequiredValidate("item_panel","true");var i=e(this).closest(".control-content").find(".alert-danger");i&&i.remove()}})),e(".pro-woo-filter").on("click",".setting-panel .panel-header .nav-tab-heading",(function(a){a.preventDefault(),e(this).closest(".panel-container").find(".active-tab").removeClass("active-tab").addClass("active-tab");var t=e(this).attr("data-tab-id");e(this).closest(".panel-container").find(".tab-content").hide(),e(this).closest(".panel-container").find(".wrap-tabs").find("[data-tab-id="+t+"]").addClass("active-tab").show()})),e(".pro-woo-filter").on("click",".btn-actions .edit-action",(function(a){a.preventDefault(),w.editPanel(e(this))})),e(".pro-woo-filter").on("click",".btn-actions .remove-action",(function(a){a.preventDefault(),!0===confirm("Are you sure you want to remove this item?")&&y.removeItem(e(this))})),e(".pro-woo-filter").on("click",".link-back",(function(e){e.preventDefault(),w.backLinkButton()})),e(".pro-woo-filter").on("click",".panel-group .add-new-element",(function(a){a.preventDefault();var t=e(this).attr("data-item-type"),i=y.generateFilterItemID(),n={panelType:t,FilterItemID:i,requireValidate:"true",predefinedPanel:""},l="",r="";"column"===t?(r=y.addNewColumn(i),l=w.init(n)):("productcategories"===t?(n.panelType="checkboxlist",n.predefinedPanel="productcategories"):"stockstatus"===t&&(n.panelType="radiolist",n.predefinedPanel="stockstatus"),l=w.init(n),r=y.addNewItem(n.panelType,i)),w.displayPanel("additemtype",l,"",r)})),e(".pro-woo-filter").on("change",".type-field",(function(a){var t=e(this).val(),i=e(this).closest(".inner-fields");"color"===t?(e(i).find(".color-container").show(),e(i).find(".image-container").hide()):(e(i).find(".color-container").hide(),e(i).find(".image-container").show())})),e(".panel-group").on("change input click",":input",(function(e){P.addAttributeRequiredValidate("item_panel","true")})),e(".pro-woo-filter").on("click",".btn-upload-image",(function(t){t.preventDefault();var i=this;(a=wp.media.frames.metaImageFrame=wp.media({button:{text:p.upload_image}})).on("select",(function(){var t=a.state().get("selection").first().toJSON();e(i).closest(".image-container").find(".image-field").val(t.url).trigger("input"),e(i).closest(".color-item").find(".preview-image").length>0&&e(i).closest(".color-item").find(".preview-image").remove(),e(i).closest(".color-item").find(".preview-holder").append('<img class="preview-image" src="'+t.url+'">')})),a.open()})),e(".pro-woo-filter").on("click",".panel-container .panel-header .nav-tab-heading",(function(a){a.preventDefault(),e(this).closest(".panel-container").find(".active-tab").removeClass("active-tab"),e(this).addClass("active-tab");var t=e(this).attr("data-tab-id");e(this).closest(".panel-container").find(".tab-content").hide(),e(this).closest(".panel-container").find(".wrap-tabs").find("[data-tab-id="+t+"]").addClass("active-tab").show()})),e(".pro-woo-filter").on("click",".add-rule",(function(a){a.preventDefault(),P.addAttributeRequiredValidate("item_panel","true"),b.displayRulesField.addNewRule(e(this))})),e(".pro-woo-filter").on("click",".remove-rule",(function(a){a.preventDefault(),P.addAttributeRequiredValidate("item_panel","true"),b.displayRulesField.removeRule(e(this))})),e(".pro-woo-filter").on("change",'[name="user_roles"], [name="item_display"], [name="source_of_options"], [name="item_source_category"], [name="item_source_taxonomy_sub"], [name="item_source_attribute"], [name="item_source_taxonomy"]',(function(a){var t=e(this).attr("name");"source_of_options"!==t&&"item_source_taxonomy"!==t||x.changeTaxonomyDropdowList(),x.changeIncludeExcludeFieldData(),x.changeboxlistlabel(),e(".panel-colorlist").length>0&&x.fillAjaxColorFields()})),e(".pro-woo-filter").on("input",'[name="url_key"], [name="url_key_min_price"], [name="url_key_max_price"], [name="url_key_date_before"], [name="url_key_date_after"], [name="url_key_range_slider_min"], [name="url_key_range_slider_max"]',(function(a){a.preventDefault();var t=e(this).closest(".panel-item").attr("data-filter-panel-id");_.init(e(this).val(),t)?e(this).closest(".control-content").find(".alert-danger").length>0&&e(this).closest(".control-content").find(".alert-danger").remove():!e(this).closest(".control-content").find(".alert-danger").length>0&&e(this).closest(".control-content").append(m())})),e(".pro-woo-filter").on("change",".field-rule-param",(function(a){var t=this,i=e(this).val();if("category"===i){var n=d.product_categories;e(t).closest(".rule").find(".field-rule-value-select2").empty().select2({data:n,width:"100%"})}else if(r.hasOwnProperty(i))e(t).closest(".rule").find(".field-rule-value-select2").empty().select2({data:r[i],width:"100%"});else{var l=j("get_group_taxonomies_using_ajax","",i);l.done((function(a){r[i]=a.data.data,e(t).closest(".rule").find(".field-rule-value-select2").empty().select2({data:a.data.data,width:"100%"})})),l.fail((function(e,a,t){}))}})),e(".pro-woo-filter").on("change",'[name="price_url_format"]',(function(a){var t='[name="url_key_min_price"], [name="url_key_max_price"]';"dash"===e(this).val()?e(t).closest(".control-group").slideUp("fast"):e(t).closest(".control-group").slideDown("fast"),P.addAttributeRequiredValidate("","true")})),e(".pro-woo-filter").on("change",'[name="range_slider_url_format"]',(function(a){var t='[name="url_key_range_slider_min"], [name="url_key_range_slider_max"]';"dash"===e(this).val()?e(t).closest(".control-group").slideUp("fast"):e(t).closest(".control-group").slideDown("fast"),P.addAttributeRequiredValidate("","true")})),e(".pro-woo-filter").on("change",'[name="source_of_options"]',(function(a){x.eventSourceOfOptions(e(this).val(),"slow"),x.displayParentOption(),P.addAttributeRequiredValidate("","true")})),e(".pro-woo-filter").on("change",'[name="display_hierarchical"]',(function(a){var t=e('[name="display_hierarchical_collapsed"]').closest(".control-group");e(this).is(":checked")?e(t).slideDown("fast"):e(t).slideUp("fast")})),e(".pro-woo-filter").on("change",'[name="dropdown_style"]',(function(a){x.dropdownDisplayFields(e(this).val())})),e(".pro-woo-filter").on("change",'[name="inline_style"]',(function(a){e(this).is(":checked")?e('[name="display_hierarchical"]').closest(".control-group").slideUp("fast"):e('[name="display_hierarchical"]').closest(".control-group").slideDown("fast")})),e(".pro-woo-filter").on("change",'[name="display_title"]',(function(a){e(this).is(":checked")?(e('[name="display_toggle_content"]').closest(".control-group").slideDown("fast"),e('[name="display_toggle_content"]').is(":checked")&&e('[name="default_toggle_state"]').closest(".control-group").slideDown("fast")):(e('[name="display_toggle_content"]').closest(".control-group").slideUp("fast"),e('[name="default_toggle_state"]').closest(".control-group").slideUp("fast"))})),e(".pro-woo-filter").on("change",'[name="display_toggle_content"]',(function(a){e(this).is(":checked")?e('[name="default_toggle_state"]').closest(".control-group").slideDown("fast"):e('[name="default_toggle_state"]').closest(".control-group").slideUp("fast")})),e(".pro-woo-filter").on("click",".pwf-add-new-meta",(function(a){a.preventDefault();var t=e(".panel-group .item-panel").attr("data-panel-type");k.addMetaField(t)})),e(".pro-woo-filter").on("click",".pwf-meta-remove-action",(function(a){a.preventDefault(),k.removeMetaField(e(this))})),e(".pro-woo-filter").on("click",".pwf-meta-edit-action",(function(a){a.preventDefault(),k.editMetaField(e(this))})),e(".pro-woo-filter").on("change",'[name="multi_select"]',(function(a){"on"===e('[name="multi_select"]:checked').val()?e('[name="query_type"]').closest(".control-group").slideDown():e('[name="query_type"]').closest(".control-group").slideUp()})),e(".pro-woo-filter").on("change",'[name="more_options_by"]',(function(a){var t=e(this).val();["scrollbar","morebutton"].includes(t)?e('[name="height_of_visible_content"]').closest(".control-group").slideDown("fast"):e('[name="height_of_visible_content"]').closest(".control-group").slideUp("fast")}));var t=[];e.each(e('input[name="usecomponents"]:checked'),(function(){t.push(e(this).val())})),C.checkUseComponents(t),e(".pro-woo-filter").on("change",'[name="usecomponents"]',(function(a){var t=[];e.each(e('input[name="usecomponents"]:checked'),(function(){t.push(e(this).val())})),C.checkUseComponents(t)})),e(".pro-woo-filter").on("click","transparent",(function(e){e.preventDefault()})),e(".pro-woo-filter").on("change",'[name="display_filter_as"]',(function(a){C.displayFilterAs(e(this).val())})),C.displayFilterAs(e('[name="display_filter_as"]').val()),e(".pro-woo-filter").on("change",'[name="responsive"]',(function(a){C.isResponsive(e('[name="responsive"]:checked').val())})),C.isResponsive(e('[name="responsive"]:checked').val()),e(".pro-woo-filter").on("change",'[name="range_slider_meta_source"]',(function(a){"custom"===e(this).val()?e('[name="meta_key"]').closest(".control-group").slideDown():e('[name="meta_key"]').closest(".control-group").slideUp()})),e(".pro-woo-filter").on("change",'[name="filter_query_type"]',(function(a){C.setFilterQueryType(e(this).val())})),C.setFilterQueryType(e('[name="filter_query_type"]').val()),e(".pro-woo-filter").on("change",'[name="shortcode_type"]',(function(a){C.setShortcodeType(e(this).val())})),C.setShortcodeType(e('[name="shortcode_type"]').val()),e(".pro-woo-filter").on("change",'[name="depends_on"]',(function(a){var t=e(this).select2("data");0===t.length&&(t=""),x.dependsOn(t)}))},checkUseComponents:function(a){a.includes("pagination")?(e('[name="pagination_selector"]').attr("aria-required","true"),e('[name="pagination_selector"]').closest(".control-group").show(),e('[name="pagination_ajax"], [name="pagination_type"]').closest(".control-group").slideDown()):(e('[name="pagination_selector"]').closest(".control-group").hide(),e('[name="pagination_selector"]').removeAttr("aria-required"),e('[name="pagination_ajax"], [name="pagination_type"]').closest(".control-group").slideUp()),a.includes("sorting")?(e('[name="sorting_selector"]').closest(".control-group").show(),e('[name="sorting_selector"]').attr("aria-required","true"),e('[name="sorting_ajax"]').closest(".control-group").slideDown()):(e('[name="sorting_selector"]').closest(".control-group").hide(),e('[name="sorting_selector"]').removeAttr("aria-required"),e('[name="sorting_ajax"]').closest(".control-group").slideUp()),a.includes("results_count")?(e('[name="result_count_selector"]').closest(".control-group").show(),e('[name="result_count_selector"]').attr("aria-required","true")):(e('[name="result_count_selector"]').closest(".control-group").hide(),e('[name="result_count_selector"]').removeAttr("aria-required"))},displayFilterAs:function(a){"button"===a?e('[name="filter_button_state"]').closest(".control-group").slideDown("fast"):e('[name="filter_button_state"]').closest(".control-group").slideUp("fast")},isResponsive:function(a){var t='[name="responsive_filtering_starts"], [name="responsive_append_sticky"], [name="responsive_width"]';"on"===a?e(t).closest(".control-group").slideDown("fast"):e(t).closest(".control-group").slideUp("fast")},setFilterQueryType:function(a){var t='[name="filter_query_archive"], [name="posts_per_page"]',i='[name="filter_query_pages"], [name="shortcode_type"]';"main_query"===a?(e(t).closest(".control-group").slideDown("fast"),e(i).closest(".control-group").slideUp("fast")):(e(t).closest(".control-group").slideUp("fast"),e(i).closest(".control-group").slideDown("fast")),C.setShortcodeType(e('[name="shortcode_type"]').val())},setShortcodeType:function(a){var t=e('[name="filter_query_type"]').val();"default_woocommerce"===a&&"custom_query"===t?e('[name="shortcode_string"]').closest(".control-group").slideDown("fast"):e('[name="shortcode_string"]').closest(".control-group").slideUp("fast")}};if(d.hasOwnProperty("filter_meta")){var E=JSON.parse(d.filter_meta);""!==E.setting&&"false"!==E.setting&&(t=E.setting),""!==E.items&&null!==E.items?y.createFilterItems(E.items):y.initSortEvent(),x.initEditPanelEvent(),e(".pro-woo-filter").length>0&&e("#publishing-action").closest(".postbox ").hide()}if("edit"===d.current_screen){var q=E.setting.post_title;e(".wp-heading-inline").append('<span class="heading-filter-title">'+q+"</span>")}C.init()}(jQuery)}]);