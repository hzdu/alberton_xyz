jQuery(function(r){var e={init:function(){this.dashboard_load_event()},dashboard_load_event:function(){r(document).ready(function(){r(".user-registration-pro-dashboard-select-form").trigger("change"),r(".user-registration-pro-date-switcher").on("click",function(){if(!r(this).hasClass("is-active")){r(this).addClass("is-active");var e=r(this).attr("class").split(" ")[3];r(".user-registration-pro-date-switcher:not(."+e+")").removeClass("is-active"),r("#date-range-selector").val(""),r(".user-registration-pro-dashboard-select-form").trigger("change")}});var e={};r(".user-registration-pro-date-range-selector").on("click",function(){var t=r(this).data("id"),a=e[t];a||(a=r(this).flatpickr({mode:"range",disableMobile:!0,dateFormat:"Y-m-d","static":!0,onClose:function(e,t,a){0!==e.length&&(r(".user-registration-pro-date-switcher").removeClass("is-active"),t!==r(".user-registration-pro-date-checker").val()&&(r(".user-registration-pro-date-checker").val(t),r(".user-registration-pro-dashboard-select-form").trigger("change")))}}),e[t]=a),a&&a.open()})}),r(".user-registration-pro-dashboard-select-form").on("change",function(){var t="Week";r(".user-registration-pro-date-switcher").each(function(){var e=r("#date-range-selector").val();""!==e?t=e:r(this).hasClass("is-active")&&(t=r(this).html())});var a=r(this).val(),s={action:"user_registration_pro_dashboard_analytics",form_id:a,selected_date:t};r(".user-registration-pro-dashboard__body").html('<div class="user-registration-card ur-text-center"><div class="user-registration-card__body"><span class="ur-spinner"></span></div></div>'),r.ajax({url:user_registration_pro_dashboard_script_data.ajax_url,data:s,type:"POST",success:function(t){var s=t.data.message,i=t.data.user_report,o=i.weekly_data.daily_data;r(".user-registration-pro-dashboard__body").html(s),"all"===a&&e.specific_registration_source_chart(i);var n=r("#user-registration-pro-registration-overview-chart-report-area"),l=Object.keys(o),c=[],d=[],u=[],p=[];l.forEach(function(r){c.push(o[r].new_registration_in_a_day),d.push(o[r].approved_users_in_a_day),u.push(o[r].pending_users_in_a_day),p.push(o[r].denied_users_in_a_day)});var g={datasets:[{label:"New User Registration",fill:!1,borderColor:"red",data:c},{label:"Approved Users",fill:!1,borderColor:"blue",data:d},{label:"Pending Users",fill:!1,borderColor:"#800020",data:u}],labels:l},h=new Chart(n,{type:"line",data:g,options:{responsive:!0,legend:{display:!1},scales:{xAxes:[{ticks:{maxTicksLimit:10}}]},legendCallback:function(r){var e=[];e.push('<ul class="user-registration-pro-legend-'+r.id+' ur-d-flex ur-flex-wrap ur-mt-3 ur-mb-0">');for(var t=0;t<3;t++)e.push('<li><span class="user-registration-pro-color-tag" style="background-color:'+r.data.datasets[t].borderColor+'"></span>'),r.data.datasets[t].label&&e.push(r.data.datasets[t].label),e.push("</li>");return e.push("</ul>"),e.join("")}}});r(".user-registration-total-registration-chart").find(".user-registration-pro-registration-overview-chart-report-legends").html(h.setDatasetVisibility(1,!0))}})})},specific_registration_source_chart:function(t){var a=t,s=r("#user-registration-pro-specific-form-registration-overview-chart-report-area"),i=Object.keys(a.specific_form_registration).sort(),o=[],n=[];i.forEach(function(r){o.push(a.specific_form_registration),n.push(a.specific_form_registration[r])});for(var l=[],c=0;c<i.length;c++)l.push(e.getRandomColor());var d={datasets:[{backgroundColor:l,data:n}],labels:i},u=new Chart(s,{type:"doughnut",data:d,options:{responsive:!0,legend:{display:!1},legendCallback:function(r){var e=[];e.push('<ul class="user-registration-pro-legend-'+r.id+' ur-d-flex ur-flex-wrap ur-mt-3 ur-mb-0">');for(var t=0;t<r.data.labels.length;t++)e.push('<li><span class="user-registration-pro-color-tag" style="background-color:'+r.data.datasets[0].backgroundColor[t]+'"></span>'),r.data.labels[t]&&e.push(r.data.labels[t]),e.push("</li>");return e.push("</ul>"),e.join("")}}});r(".user-registration-specific-registration-chart").find(".user-registration-pro-specific-form-registration-overview-chart-report-legends").html(u.setDatasetVisibility(1,!0))},getRandomColor:function(){for(var r="#",e=0;e<6;e++)r+="0123456789ABCDEF"[Math.floor(16*Math.random())];return r}};e.init(),r(".user-registration-pro-select-popup-type").ready(function(){"Login"===r("#select2-user_registration_pro_popup_type-container").attr("title")&&r(".single-registration-select").toggle()}),r(".user-registration-pro-select-popup-type").on("change",function(){r("#select2-user_registration_pro_popup_type-container").attr("title");r(this).closest("#mainform").find(".single-registration-select").toggle()})});