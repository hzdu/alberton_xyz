{"version":3,"sources":["webpack://acfwp_settings/./src/helpers/ajax.ts","webpack://acfwp_settings/./src/components/License/index.tsx","webpack://acfwp_settings/./src/components/Help/UtilityAction.tsx","webpack://acfwp_settings/./src/components/Help/UtilityCard.tsx","webpack://acfwp_settings/./src/components/Help/index.tsx","webpack://acfwp_settings/./src/index.tsx"],"names":["_a","acfwpElements","element","useEffect","useState","Fragment","antd","Form","Input","Button","Typography","Skeleton","message","Link","_b","key","license","setLicense","_c","showForm","setShowForm","_d","showSpinner","setShowSpinner","form","useForm","_e","acfwAdminApp","license_page","title","desc","indicator","license_status","premium_content","specs","formlabels","spinner_img","jQuery","ajax","url","ajaxurl","data","action","dataType","done","response","status","license_key","email","is_active","always","createElement","id","className","src","logo","alt","label","active","inactive","text","map","s","value","layout","initialValues","onFinish","_formNonce","method","activateLicense","success","success_msg","error","error_msg","Item","name","type","autocomplete","htmlType","button","help","href","link","target","login","loading","paragraph","rows","props","nonce","setLoading","handleClick","onClick","Col","Card","card","buttons","span","Row","help_page","utilities","cards","gutter","LicensePremium","HelpPremium","Help"],"mappings":"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","file":"admin-app.js","sourcesContent":["// #region [Variables] =================================================================================================\r\n// #region [Functions]=================================================================================================\r\n/**\r\n * Generic WP AJAX jQuery promise.\r\n *\r\n * @param data IGenericAjaxData\r\n */\r\nexport var wpAjax = function (data) {\r\n    return jQuery.ajax({\r\n        method: \"post\",\r\n        url: ajaxurl,\r\n        data: data,\r\n        dataType: \"json\"\r\n    });\r\n};\r\n/**\r\n * WP AJAX jQuery promise to fetch license data.\r\n *\r\n * @param data any\r\n */\r\nexport var getLicense = function () {\r\n    return jQuery.ajax({\r\n        url: ajaxurl,\r\n        data: { action: \"acfw_get_license_details\" },\r\n        dataType: \"json\"\r\n    });\r\n};\r\n/**\r\n * WP AJAX jQuery promise to activate license data.\r\n *\r\n * @param data ILicenseData\r\n */\r\nexport var activateLicense = function (data) {\r\n    var _formNonce = acfwAdminApp.license_page._formNonce;\r\n    data.action = \"acfw_activate_license\";\r\n    return jQuery.ajax({\r\n        method: \"post\",\r\n        url: ajaxurl,\r\n        data: {\r\n            action: \"acfw_activate_license\",\r\n            'activation-email': data.email,\r\n            'license-key': data.key,\r\n            'ajax-nonce': _formNonce\r\n        },\r\n        dataType: \"json\"\r\n    });\r\n};\r\n// #endregion [Functions]\r\n","// #region [Imports] ===================================================================================================\r\n// CSS\r\nimport \"./index.scss\";\r\n// Helpers\r\nimport { getLicense, activateLicense } from \"../../helpers/ajax\";\r\n// #endregion [Interfaces]\r\n// #region [Component] =================================================================================================\r\nvar License = function () {\r\n    var _a = acfwpElements.element, useEffect = _a.useEffect, useState = _a.useState, Fragment = _a.Fragment, antd = acfwpElements.antd;\r\n    var Form = antd.Form, Input = antd.Input, Button = antd.Button, Typography = antd.Typography, Skeleton = antd.Skeleton, message = antd.message;\r\n    var Link = Typography.Link;\r\n    var _b = useState({ key: false }), license = _b[0], setLicense = _b[1];\r\n    var _c = useState(false), showForm = _c[0], setShowForm = _c[1];\r\n    var _d = useState(false), showSpinner = _d[0], setShowSpinner = _d[1];\r\n    var form = Form.useForm()[0];\r\n    var _e = acfwAdminApp.license_page, title = _e.title, desc = _e.desc, indicator = _e.indicator, license_status = _e.license_status, premium_content = _e.premium_content, specs = _e.specs, formlabels = _e.formlabels, spinner_img = _e.spinner_img;\r\n    useEffect(function () {\r\n        getLicense()\r\n            .done(function (response) {\r\n            if (response.status !== \"success\")\r\n                return;\r\n            setLicense({\r\n                key: response.license_key ? response.license_key : '',\r\n                email: response.email ? response.email : '',\r\n                is_active: response.is_active\r\n            });\r\n        })\r\n            .always(function () { return setShowForm(true); });\r\n    }, [setLicense, setShowForm]);\r\n    var handleActivateLicense = function (data) {\r\n        setShowSpinner(true);\r\n        activateLicense(data)\r\n            .done(function (response) {\r\n            if (response.status === \"success\")\r\n                message.success(response.success_msg);\r\n            else\r\n                message.error(response.error_msg);\r\n        })\r\n            .always(function () { return setShowSpinner(false); });\r\n    };\r\n    return (acfwpElements.element.createElement(\"div\", { id: \"license-placeholder\" },\r\n        acfwpElements.element.createElement(\"div\", { className: \"overview\" },\r\n            acfwpElements.element.createElement(\"img\", { className: \"acfw-logo\", src: acfwAdminApp.logo, alt: \"acfw logo\" }),\r\n            acfwpElements.element.createElement(\"h1\", null, title),\r\n            acfwpElements.element.createElement(\"p\", null, desc)),\r\n        acfwpElements.element.createElement(\"div\", { className: \"license-info \" + (showSpinner ? \"show\" : \"\") },\r\n            acfwpElements.element.createElement(\"div\", { className: \"heading\" },\r\n                acfwpElements.element.createElement(\"div\", { className: \"left\" },\r\n                    acfwpElements.element.createElement(\"span\", null, license_status.label)),\r\n                acfwpElements.element.createElement(\"div\", { className: \"right\" },\r\n                    acfwpElements.element.createElement(\"span\", { className: \"action-button active-indicator no-hover\" }, license.is_active == \"yes\" ? indicator.active : indicator.inactive))),\r\n            acfwpElements.element.createElement(\"div\", { className: \"content\" },\r\n                acfwpElements.element.createElement(\"h2\", null, premium_content.title),\r\n                acfwpElements.element.createElement(\"p\", null, premium_content.text),\r\n                acfwpElements.element.createElement(\"table\", { className: \"license-specs\" },\r\n                    acfwpElements.element.createElement(\"thead\", null,\r\n                        acfwpElements.element.createElement(\"tr\", null, specs.map(function (s) { return (acfwpElements.element.createElement(\"th\", { key: s.label }, s.label)); }))),\r\n                    acfwpElements.element.createElement(\"tbody\", null,\r\n                        acfwpElements.element.createElement(\"tr\", null, specs.map(function (s) { return (acfwpElements.element.createElement(\"td\", { key: s.value }, s.value)); }))))),\r\n            acfwpElements.element.createElement(\"div\", { className: \"license-form\" }, showForm ? (acfwpElements.element.createElement(Fragment, null,\r\n                acfwpElements.element.createElement(Form, { layout: \"vertical\", form: form, initialValues: license, onFinish: handleActivateLicense },\r\n                    acfwpElements.element.createElement(Form.Item, { label: formlabels.license_key, name: \"key\" },\r\n                        acfwpElements.element.createElement(Input, { type: \"password\", autocomplete: \"off\" })),\r\n                    acfwpElements.element.createElement(Form.Item, { label: formlabels.email, name: \"email\" },\r\n                        acfwpElements.element.createElement(Input, { type: \"email\", autocomplete: \"off\" })),\r\n                    acfwpElements.element.createElement(Form.Item, { className: \"form-action\" },\r\n                        acfwpElements.element.createElement(Button, { type: \"primary\", htmlType: \"submit\" }, formlabels.button))),\r\n                acfwpElements.element.createElement(\"div\", { className: \"help-row\" },\r\n                    formlabels.help.text,\r\n                    \" \",\r\n                    acfwpElements.element.createElement(Link, { href: formlabels.help.link, target: \"_blank\" }, formlabels.help.login)))) : (acfwpElements.element.createElement(Skeleton, { loading: true, active: true, paragraph: { rows: 1 } }))),\r\n            acfwpElements.element.createElement(\"div\", { className: \"overlay\" },\r\n                acfwpElements.element.createElement(\"img\", { src: spinner_img, alt: \"spinner\" })))));\r\n};\r\nexport default License;\r\n// #endregion [Component]\r\n","// #region [Imports] ===================================================================================================\r\n// helpers\r\nimport { wpAjax } from \"../../helpers/ajax\";\r\n// #endregion [Interfaces]\r\n// #region [Component] =================================================================================================\r\nvar UtilityAction = function (props) {\r\n    var element = acfwpElements.element, antd = acfwpElements.antd;\r\n    var useState = element.useState;\r\n    var Button = antd.Button, message = antd.message;\r\n    var id = props.id, nonce = props.nonce, _a = props.button, text = _a.text, action = _a.action, type = _a.type;\r\n    var _b = useState(false), loading = _b[0], setLoading = _b[1];\r\n    var handleClick = function (action) {\r\n        setLoading(true);\r\n        wpAjax({\r\n            action: id,\r\n            type: action,\r\n            nonce: nonce\r\n        })\r\n            .done(function (response) {\r\n            if (response.status === \"success\") {\r\n                message.success(response.message);\r\n            }\r\n            else {\r\n                message.error(response.error_msg);\r\n            }\r\n        })\r\n            .always(function () {\r\n            setLoading(false);\r\n        });\r\n    };\r\n    return (acfwpElements.element.createElement(Button, { type: type, onClick: function () { return handleClick(action); }, loading: loading }, text));\r\n};\r\nexport default UtilityAction;\r\n// #endregion [Component]\r\n","// #region [Imports] ===================================================================================================\r\n// Components\r\nimport UtilityAction from \"./UtilityAction\";\r\n// #endregion [Interfaces]\r\n// #region [Component] =================================================================================================\r\nvar UtilityCard = function (props) {\r\n    var _a = acfwpElements.antd, Col = _a.Col, Card = _a.Card;\r\n    var _b = props.card, title = _b.title, desc = _b.desc, nonce = _b.nonce, id = _b.id, buttons = _b.buttons;\r\n    return (acfwpElements.element.createElement(Col, { className: \"utility-card\", span: 8 },\r\n        acfwpElements.element.createElement(Card, null,\r\n            acfwpElements.element.createElement(\"h2\", null, title),\r\n            acfwpElements.element.createElement(\"p\", null, desc),\r\n            acfwpElements.element.createElement(\"div\", { className: \"actions\" }, buttons.map(function (button, key) { return (acfwpElements.element.createElement(UtilityAction, { id: id, nonce: nonce, button: button, key: key })); })))));\r\n};\r\nexport default UtilityCard;\r\n// #endregion [Component]\r\n","// #region [Imports] ===================================================================================================\r\n// CSS\r\nimport \"./index.scss\";\r\n// Components\r\nimport UtilityCard from \"./UtilityCard\";\r\n// #endregion [Variables]\r\n// #region [Component] =================================================================================================\r\nvar HelpPremium = function () {\r\n    var Row = acfwpElements.antd.Row;\r\n    // Return null component if utilities data not present.\r\n    if (!acfwAdminApp.help_page.utilities)\r\n        return null;\r\n    var _a = acfwAdminApp.help_page.utilities, title = _a.title, cards = _a.cards;\r\n    return (acfwpElements.element.createElement(\"div\", { className: \"utility-block\" },\r\n        acfwpElements.element.createElement(\"h1\", null, title),\r\n        acfwpElements.element.createElement(Row, { gutter: 10 }, cards.map(function (card, key) { return acfwpElements.element.createElement(UtilityCard, { card: card, key: key }); }))));\r\n};\r\nexport default HelpPremium;\r\n// #endregion [Component]\r\n","// Components\r\nimport License from \"./components/License\";\r\nimport Help from \"./components/Help\";\r\nacfwpElements.LicensePremium = License;\r\nacfwpElements.HelpPremium = Help;\r\n// #endregion [Variables]\r\n"],"sourceRoot":""}