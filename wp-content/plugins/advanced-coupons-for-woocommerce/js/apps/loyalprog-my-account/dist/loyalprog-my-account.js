!function(e){function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}var o={};r.m=e,r.c=o,r.i=function(e){return e},r.d=function(e,o,t){r.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(o,"a",o),o},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=2)}([function(e,r,o){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jQuery,r=document.querySelector("#acfw-loyalty-programs-myaccount");e(r).on("change keyup","#redeem_points",n),e(r).on("change keyup","#redeem_points_worth",a),e(r).on("submit","#redeem-points-form",l),e(r).on("keyup mouseup mousewheel validate","#redeem_points",i),e(window).on("resize",p),s(),e(window).trigger("resize")}function n(){var e=jQuery(this),r=e.closest("#redeem_points_field"),o=r.find("#redeem_points_worth"),t=e.val()/acfw_loyalprog_args.redeem_ratio*acfw_loyalprog_args.currency_ratio,n=t.toFixed(2);o.val(""+n)}function a(e){var r=jQuery(this),o=r.closest("#redeem_points_field"),t=o.find("#redeem_points"),n=parseFloat(r.val());n=n||0;var a=parseInt(n/acfw_loyalprog_args.currency_ratio*acfw_loyalprog_args.redeem_ratio);"change"==e.type&&r.val(n.toFixed(2)),t.val(a),t.trigger("validate")}function u(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",t=document.querySelector("#acfw-loyalty-programs-myaccount"),n=t.querySelector(".user-points strong"),a=t.querySelector(".user-points em span.amount"),u=t.querySelector(".user-points .expiry-note"),c=t.querySelector("#redeem_points");jQuery(n).text(e),jQuery(c).prop("max",e),jQuery(a).replaceWith(r),jQuery(u).html(o)}function c(e){var r=e.code,o=e.amount,t=e.date,n=e.action,a=document.querySelector("#acfw-loyalty-programs-myaccount"),u=a.querySelector(".user-redeemed-coupons table"),c=u.querySelector("tbody"),s="";acfw_loyalprog_args.is_uc_module&&n&&(s='\n            <a class="button" href="'+n+'">\n                '+acfw_loyalprog_args.coupon_apply_text+"\n            </a>\n        "),jQuery(c).find("tr.no-coupon-tr").remove(),jQuery(c).prepend('\n        <tr class="new">\n            <td class="coupon_code">'+r+'</td>\n            <td class="coupon_amount">'+o+'</td>\n            <td class="coupon_created">'+t+'</td>\n            <td class="actions">'+s+"</td>\n        </tr>\n    ")}function s(){jQuery.post(acfw_loyalprog_args.ajaxurl,{action:"acfw_lp_refresh_user_points",nonce:acfw_loyalprog_args.refresh_nonce},function(e){"success"==e.status&&u(e.user_points,e.worth,e.expire_msg)},"json")}function i(){var e=jQuery(this),r=e.closest("#redeem-points-form"),o=r.find("#redeem_submit_field button"),t=parseInt(e.val()),n=parseInt(e.prop("min")),a=parseInt(e.prop("max"));0!==t&&t>=n&&t<=a?o.prop("disabled",!1):o.prop("disabled",!0)}function l(e){e.preventDefault();var r=jQuery(this),o=r.serializeArray();r.find(".input-text,button").prop("disabled",!0),d(),jQuery.post(acfw_loyalprog_args.ajaxurl,o,function(e){"success"==e.status?(u(e.points,e.worth,e.expire_msg),c(e)):alert(e.error_msg),r.find(".input-text").val(0),r.find(".input-text,.button").prop("disabled",!1),d("hide")},"json")}function p(){var e=document.querySelector("#acfw-loyalty-programs-myaccount"),r=e.querySelector(".acfw-overlay"),o=jQuery(e).offset().left+(jQuery(e).width()/2-20);jQuery(r).css("backgroundPosition",o+"px 50%")}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show",r=document.querySelector("#acfw-loyalty-programs-myaccount"),o=r.querySelector(".acfw-overlay"),t="show"==e?"block":"none";jQuery(o).css("display",t)}Object.defineProperty(r,"__esModule",{value:!0}),r.my_account_events=t},function(e,r){},function(e,r,o){"use strict";o(1);var t=o(0);jQuery(document).ready(function(e){(0,t.my_account_events)(e)})}]);
//# sourceMappingURL=loyalprog-my-account.js.map