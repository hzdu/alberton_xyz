jQuery(document).ready(function(a){var e,s,t,n,r,c,i,p,d=0;function l(s,t,n,r,c,p,l){c?(i=0,e=a(p).val().trim()):(i=wpdiscuzAjaxObj.wc_post_id,e=a(".wpdiscuz-comm-search").val().trim()),e.length>=search_ajax.searchTextMinLength&&e.length<=50?(c?a(p).parent().parent().find(".wpdiscuz-all-search-img").removeClass("fa-search").addClass("fa-spinner fa-pulse"):(a("#wpdiscuz-search-img").removeClass("fa-search"),a("#wpdiscuz-search-img").addClass("fa-spinner fa-pulse"),r=a("#wpdiscuz-search-setting-wrap .search-by").attr("name")),r||(r=search_ajax.searchDefaultField),0!=d&&(d.abort(),d=0),d=a.ajax({type:"POST",url:search_ajax.url,data:{action:"wpdiscuz_search_data",page:t,is_page:s,search_data:e,searchBy:r,post_id:i,allComm:c,printed_data:l}}).done(function(e){c?(a(p).parent().parent().parent().parent().parent().find(".wpdiscuz-comm-search-all").hide(),a(p).parent().parent().parent().parent().parent().find(n).html(e),a(p).parent().parent().find(".wpdiscuz-all-search-img").removeClass("fa-spinner fa-pulse").addClass("fa-search")):(a(".wpd-thread-list").hide(),a(".wpdiscuz-front-actions").hide(),a(n).html(e),a("#wpdiscuz-search-img").removeClass("fa-spinner fa-pulse"),a("#wpdiscuz-search-img").addClass("fa-search"))})):c?(a(p).parent().parent().parent().parent().parent().find(".wpdiscuz-all-serch-cont").html(""),a(p).parent().parent().parent().parent().parent().find(".wpdiscuz-comm-search-all").show(),a(p).parent().parent().find(".wpdiscuz-all-search-img").removeClass("fa-spinner fa-pulse").addClass("fa-search")):(a("#wpdiscuz-search-container").html(""),a(".wpdiscuz-front-actions").show(),a(".wpd-thread-list").show(),a("#wpdiscuz-search-img").removeClass("fa-spinner fa-pulse"),a("#wpdiscuz-search-img").addClass("fa-search"))}a(document).on("keyup",".wpdiscuz-all-comm-search",function(){l(0,1,".wpdiscuz-all-serch-cont",r=a(this).parent().parent().parent().parent().find(".wpdiscuz-search-by").attr("name"),!0,this)}),a(document).on("keyup",".wpdiscuz-comm-search",function(){l(0,1,"#wpdiscuz-search-container")}),a(document).on("click",".wpdiscuz-search-pagination-item:not(.pagination-current-page)",function(){l("1",a(this).attr("id").replace("pagination-",""),".search-result"),a("#wpdiscuz-search-pagination>span").removeClass("pagination-current-page"),a(this).addClass("pagination-current-page")}),a(document).on("click",".wpdiscuz-search-widget-loadmore",function(){r=a(this).parent().parent().parent().find(".wpdiscuz-search-by").attr("name");var e=a(this).attr("data-id");++e;var s=a(this).parent();p=a(this).parent().parent().find(".wpdiscuz-all-comm-search"),a(this).remove(),c=s.parent().find(".wpdiscuz-all-serch-cont").html(),l("1",e,".wpdiscuz-all-serch-cont",r,!0,p,c)}),a(document).on("click","#wpdiscuz-search-setting-img",function(){a("#wpdiscuz-search-setting-wrap").slideToggle(200),a("#wpdiscuz-search-setting-wrap").addClass("wpdsquz-search-dialog-opened")}),a(document).on("mouseup",function(e){a(e.target).closest("#wpdiscuz-search-setting-img").length||a("#wpdiscuz-search-setting-wrap").slideUp(200)}),a(".wpdiscuz-all-search-setting-img").on("click",function(){a(this).parent().parent().parent().find(".wpdiscuz-search-setting").slideToggle(200),a(this).parent().parent().parent().find(".wpdiscuz-search-setting").addClass("wpdsquz-search-dialog-opened")}),a(document).on("mouseup",function(e){a(e.target).closest(".wpdiscuz-all-search-setting-img").length||a(".wpdiscuz-all-search-setting-wrap").slideUp(200)}),a(document).on("click","#wpdiscuz-search-setting-wrap>p",function(){var e=a(this),c=a(":input",e);s=c.val(),t=c.attr("name"),n=a("#wpdiscuz-search-setting-wrap .search-by").val(),r=a("#wpdiscuz-search-setting-wrap .search-by").attr("name"),a("#wpdiscuz-search-setting-wrap .search-by").val(s),a("#wpdiscuz-search-setting-wrap .search-by").attr("name",t),a(this).children().val(n),a(this).children().attr("name",r),""!=a(".wpdiscuz-comm-search").val()&&l(0,1,"#wpdiscuz-search-container"),a("#wpdiscuz-search-setting-wrap").slideUp(200)}),a(document).on("click",".wpdiscuz-all-search-setting-wrap>p",function(){var e=a(this),c=a(":input",e),i=a(this).parents(".wpdiscuz-search-widget").find(".wpdiscuz-search-by");s=c.val(),t=c.attr("name"),n=i.val(),r=i.attr("name"),i.val(s),i.attr("name",t),c.val(n),c.attr("name",r),n=i.val(),r=i.attr("name"),p=a(this).parent().parent().find(".wpdiscuz-all-comm-search"),""!=a(".wpdiscuz-all-comm-search").val()&&l(0,1,".wpdiscuz-all-serch-cont",r,!0,p),a(this).parent(".wpdiscuz-all-search-setting-wrap").slideUp(200)})});