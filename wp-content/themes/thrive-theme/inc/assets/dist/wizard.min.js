!function(e){let t,r;if(e((function(){t=e("#tcb_landing_page").length,t&&e("body").append('<div class="ttb-wizard-border"></div>')})),!window.parent)return;function o(){return r||(r=location.hash.match(/localize=(\w+)/),r=r?r[1]:"thrive_front_localize"),window[r]}const{view:i,context:a}=function(){const e={view:null,context:null};let t=location.hash.match(/obj=([\w.]+)/);t=t?t[1]:"TTD.objects";const r=t.split(".");t=window.parent;const o=t[r[0]];for(;r.length;){const o=r.shift();if(!t[o])return e;t=t[o]}return t.wizardView?{view:t.wizardView,context:o}:e}();if(!i)return;a.$=e;const n=i.model,s=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.get("active");switch(t){case"header":case"woo_header":return e(".ttb-placeholder.p-header,.thrv_header");case"footer":case"woo_footer":return e(".ttb-placeholder.p-footer,.thrv_footer");case"sidebar":return e("#theme-sidebar-section");default:return e()}},d=window.refreshPosition=()=>{const r=o();l()&&e("html").scrollTop(1e4),n.iframeData=i.iframeData={headerHeight:s("header").outerHeight(),footerHeight:s("footer").outerHeight(),sidebarWidth:s("sidebar").outerWidth(),scrollWidth:window.innerWidth-document.documentElement.offsetWidth,templateId:Array.from(document.body.classList).filter((e=>e.startsWith("tve-theme-"))).map((e=>Number(e.replace("tve-theme-","")))).pop(),nextPage:r.wizard.next_page,prevPage:r.wizard.prev_page},t&&e(".ttb-wizard-border").css({top:i.iframeData.headerHeight,bottom:i.iframeData.footerHeight}),i.buildOverlay()},l=function(){const e=o();return e&&("footer"===e.wizard.step||"woo_footer"===e.wizard.step)};e(window).on("load",(function(){d()})),window.onbeforeunload=()=>{delete i.iframeAPI},e((function(){i.iframeAPI={getPreviewElement:s,inlinePreview(t){const r=e(t.html);!function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.get("active");if("sidebar"===r){e("style.ttd-wizard-sidebar-style").remove();let r=s();const o=!r.length,i=t.filter("aside");o&&(r=i.clone().empty().attr("data-display-type",JSON.stringify({desktop:"off-screen"})),e("#content .main-container").prepend(r),requestAnimationFrame((()=>{e("body").addClass("theme-has-off-screen-sidebar visible-off-screen-sidebar").attr({"data-off-screen-side":"left","data-off-screen-type":"push",style:"--off-screen-sidebar-size:330px"}),ThriveTheme.initElements()}))),i.attr("style",r.attr("style")),void 0!==i[0]&&e.each(r[0].dataset,((e,t)=>{"selector"!==e&&(i[0].dataset[e]=t)})),r.replaceWith(t)}else s(r).replaceWith(t)}(r);const o=r.find("style,img").add(r.filter("style"));let i=o.length;o.length?(o.on("load",(()=>{i--,0===i&&requestAnimationFrame(d)})),setTimeout((()=>{0!==i&&d()}),500)):requestAnimationFrame(d)}},e("a, div").on("click",(()=>!1)),l()&&e("html").scrollTop(1e4),requestAnimationFrame(d)}))}(jQuery);